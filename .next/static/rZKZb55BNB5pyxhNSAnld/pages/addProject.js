(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"3en3":function(n,t,e){"use strict";e.r(t);var r=e("o0o1"),a=e.n(r),i=e("HaE+"),o=e("ODXe"),l=e("q1tI"),u=e.n(l),s=e("RytF"),c=e("OGHJ"),d=e("YFqc"),m=e.n(d),g=e("8Kt/"),p=e.n(g),f=e("t8Fj"),h=e.n(f),b=e("vOnD"),y=e("7DIm"),v=e("XoTP"),j=e("EnxY"),w=e("OdHS"),$=e("6jvx"),O=e("b01i"),I=e("txJt"),P=e("4fwK"),S=e("tRbT"),x=e("kKAo"),T=e("Ji2X"),A=e("wb2y"),D=e("vDqi"),N=e.n(D),z=e("R/WZ"),q=e("eD//"),k=e("tVbE"),C=e("56Ss"),E=e("IsqK"),F=e("XcVC"),J=e("Ti5m"),R=e.n(J),V=e("WA69"),W=e.n(V),B=e("gALc"),L=e.n(B),K=e("ldhQ"),X=e.n(K),_=e("r9w1"),Z=e("DNyS"),H=e("KYPV"),U=e("UGp+"),Y=e("ttZb"),G=e("uVoW"),Q=e("LnxZ"),M=u.a.createElement,nn=Object(z.a)((function(n){return{root:{width:"100%",maxWidth:360,backgroundColor:n.palette.background.paper}}})),tn=function(){console.log("logout called"),cookie.remove("token"),dispatch({type:"LOGOUT",payload:{}}),window.location="/"};t.default=function(){var n=nn(),t=(Object(Z.c)(),Object(Z.b)()),e=Object(l.useState)([]),r=(e[0],e[1],Object(l.useState)(null)),u=(r[0],r[1],Object(l.useState)(null)),d=(u[0],u[1],Object(l.useState)(null)),g=(d[0],d[1],Object(l.useState)(null)),f=(g[0],g[1],Object(l.useState)("")),D=(f[0],f[1],Object(l.useState)(!1)),z=D[0],J=D[1],V=Object(l.useState)(""),B=V[0],K=V[1],en=Object(l.useState)(!1),rn=(en[0],en[1],Object(l.useState)("")),an=(rn[0],rn[1],Object(Y.c)(G.e,{onCompleted:function(n){console.log(n),K("Project Added succesfully!"),J(!1),mn()},onError:function(n){console.log(n),K("Sorry an error occurred. Please try again!")}})),on=Object(o.a)(an,1)[0],ln=[{name:U.e().required("Please Enter Project Title"),targetAmount:U.b().required("Please Enter Target Amount"),shortDescription:U.e().required("Please Enter Short Description"),description:U.e().required("Please Enter Project Details"),titleImage:U.e().required("Please Upload a title image"),relatedImages:U.a(),tags:U.a()}],un=Object(H.a)({initialValues:{name:"",targetAmount:0,shortDescription:"",description:"",titleImage:"",relatedImages:[],tags:[]},onSubmit:function(n){console.log("On Submit"),console.log(n),J(!0),K(null),on({variables:{fields:{data:{titleImage:n.titleImage,relatedImages:n.relatedImages.length?n.relatedImages:null,name:n.name,targetAmount:n.targetAmount,shortDescription:n.shortDescription,description:n.description,organization:t.id,status:"active",tags:n.tags.length?n.tags.map((function(n){return n.id})):null}}}})},validationSchema:U.c().shape(ln[0])}),sn=un.handleBlur,cn=un.handleChange,dn=un.handleSubmit,mn=un.handleReset,gn=un.values,pn=un.touched,fn=un.errors,hn=un.setFieldValue,bn=function(){var n=Object(i.a)(a.a.mark((function n(t,e){var r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(t,e),!t.length){n.next=16;break}return J(!0),r=new FormData,t.forEach((function(n){r.append("files",n)})),n.prev=5,n.next=8,N.a.post("http://localhost:1337/upload",r,{headers:{"Content-type":"multipart/form-data"}}).then((function(n){if(console.log(n.data),"titleImage"==e&&hn("titleImage",n.data[0].id),"relatedImages"==e){var t=[];n.data.map((function(n){t.push(n.id)})),hn("relatedImages",t)}J(!1)}));case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(5),console.log(n.t0,"error"),K("Sorry an error occurred. Please try again!");case 14:n.next=17;break;case 16:hn("titleImage","");case 17:case"end":return n.stop()}}),n,null,[[5,10]])})));return function(t,e){return n.apply(this,arguments)}}();return M(b.a,{theme:y.a},M(l.Fragment,null,M(p.a,null,M("title",null,"My Account | Esaar"),M("meta",{name:"Description",content:"React next landing page"}),M("meta",{name:"theme-color",content:"#FCF22B"}),M("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),M("link",{href:"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap",rel:"stylesheet"})),M(v.a,null),M(I.c,null),M(I.a,null,M(h.a,{top:0,innerZ:9999,activeClass:"sticky-nav-active"},M(w.a,null)),M(j.b,null,M($.a,null)),M(I.b,null,M(S.a,{container:!0,style:{maxWidth:"1170px",minHeight:"100vh",paddingTop:"140px",marginLeft:"170px"}},M(S.a,{item:!0,md:3},M(x.a,{style:{height:"100%"}},M(T.a,{style:{padding:"40px"}},M("div",{className:n.root},M(q.a,{component:"nav","aria-label":"main mailbox folders"},M(m.a,{href:"/account_o"},M(k.a,{button:!0},M(C.a,null,M(R.a,null)),M(E.a,{primary:"Account"}))),M(A.a,null),M(m.a,{href:"/addProject"},M(k.a,{button:!0},M(C.a,null,M(W.a,null)),M(E.a,{primary:"Add Project "}))),M(A.a,null),M(m.a,{href:"/myProjects"},M(k.a,{button:!0},M(C.a,null,M(L.a,null)),M(E.a,{primary:"Projects"}))),M(A.a,null),M(k.a,{button:!0,onClick:tn},M(C.a,null,M(X.a,null)),M(E.a,{primary:"Logout"}))))))),M(S.a,{item:!0,md:8,style:{marginLeft:"30px"}},M(x.a,{style:{height:"100%"}},M(T.a,{style:{padding:"40px"}}," ",M(F.a,{content:"Add Project",color:"#05B890"})," ",M(A.a,null),M(S.a,{item:!0,md:7,style:{marginTop:"30px"}},M(F.a,{content:"Project Title",as:"h4",style:{marginTop:"1rem"}})," ",M(_.a,{name:"name",onChange:cn,onBlur:sn,error:fn.name&&pn.name,helperText:fn.name&&pn.name?fn.name:null,label:"",variant:"outlined",size:"small",style:{color:"#3E2672"},fullWidth:!0}),M(F.a,{content:"Target Amount",as:"h4",style:{marginTop:"1rem"}})," ",M(_.a,{name:"targetAmount",type:"number",onChange:cn,onBlur:sn,error:fn.targetAmount&&pn.targetAmount,helperText:fn.targetAmount&&pn.targetAmount?fn.targetAmount:null,id:"outlined-basic",label:"in PKR",variant:"outlined",size:"small",fullWidth:!0}),M(P.a,{values:gn,setFieldValue:hn}),M(F.a,{content:"Short Description",as:"h4",style:{marginTop:"1rem"}})," ",M(_.a,{name:"shortDescription",onChange:cn,onBlur:sn,error:fn.shortDescription&&pn.shortDescription,helperText:fn.shortDescription&&pn.shortDescription?fn.shortDescription:null,id:"outlined-basic",label:"",variant:"outlined",size:"small",style:{color:"#05B890"},fullWidth:!0}),M(F.a,{content:"Project Details",as:"h4",style:{marginTop:"1rem"}})," ",M(_.a,{name:"description",onChange:cn,onBlur:sn,error:fn.description&&pn.description,helperText:fn.description&&pn.description?fn.description:null,id:"outlined-basic",label:"",variant:"outlined",size:"large",multiline:!0,rows:5,style:{color:"#05B890"},fullWidth:!0})),M(F.a,{content:"Title Image",as:"h4",style:{marginTop:"1rem"}}),M(Q.a,{acceptedFiles:["image/*"],dropzoneText:"Drag and drop an image here or click",onChange:function(n){return bn(n,"titleImage")}}),fn.titleImage?M(s.a,{style:{color:"orange"},content:fn.titleImage}):null,M(F.a,{content:"Related Images",as:"h4",style:{marginTop:"1rem"}}),M(Q.a,{acceptedFiles:["image/*"],dropzoneText:"Drag and drop images here or click",onChange:function(n){return bn(n,"relatedImages")}})),M(S.a,{container:!0,item:!0,md:12,style:{paddingLeft:"40px",alignContent:"center"}},B?M(s.a,{style:{color:"orange"},content:B}):null),M(S.a,{container:!0,item:!0,md:12,style:{alignContent:"center"}},M(c.a,{title:"Create Project",variant:"extendedFab",onClick:dn,disabled:z,isLoading:z,style:{marginTop:"20px",marginLeft:"260px",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"200px",height:"auto"}})))))),M(O.a,null))))}},"4fwK":function(n,t,e){"use strict";e.d(t,"a",(function(){return g}));var r=e("q1tI"),a=e.n(r),i=e("R/WZ"),o=e("XcVC"),l=e("ttZb"),u=e("9jPY"),s=e("R9qi"),c=e("wb2y"),d=a.a.createElement,m=Object(i.a)((function(n){return{}}));function g(n){var t=n.values,e=n.setFieldValue,i=(m(),Object(r.useState)([])),g=i[0],p=i[1],f=Object(l.d)(s.j,{skip:!t}),h=f.data,b=f.loading;f.error;Object(r.useEffect)((function(){h&&p(h.tags)}),[h,b]);return d(a.a.Fragment,null,d(o.a,{content:"Tags",as:"h4",style:{marginTop:"1rem"}}),!t.tags.length&&d(o.a,{as:"h6",content:"No Additional Tag Selected"}),t.tags.map((function(n){return d(u.a,{key:n.id,size:"small",color:"secondary",label:n.name,style:{margin:"3px"},onDelete:function(){return function(n){console.log(n),e("tags",t.tags.filter((function(t){return t.id!=n.id}))),p((function(t){return t.concat(n)}))}(n)}})})),d(c.a,{style:{marginTop:"10px",marginBottom:"10px"}}),g.length?d(o.a,{as:"h6",content:"Click to add tags"}):d(o.a,{as:"h6",content:"No Additional Tags Left"}),g.map((function(n){return d(u.a,{key:n.id,size:"small",variant:"outlined",color:"secondary",label:n.name,style:{margin:"3px"},onClick:function(){return function(n){console.log(n),p((function(t){return t.filter((function(t){return t.id!=n.id}))})),e("tags",t.tags.concat(n))}(n)}})})))}},"HaE+":function(n,t,e){"use strict";function r(n,t,e,r,a,i,o){try{var l=n[i](o),u=l.value}catch(s){return void e(s)}l.done?t(u):Promise.resolve(u).then(r,a)}function a(n){return function(){var t=this,e=arguments;return new Promise((function(a,i){var o=n.apply(t,e);function l(n){r(o,a,i,l,u,"next",n)}function u(n){r(o,a,i,l,u,"throw",n)}l(void 0)}))}}e.d(t,"a",(function(){return a}))},R9qi:function(n,t,e){"use strict";e.d(t,"l",(function(){return v})),e.d(t,"a",(function(){return j})),e.d(t,"m",(function(){return w})),e.d(t,"j",(function(){return $})),e.d(t,"e",(function(){return O})),e.d(t,"f",(function(){return I})),e.d(t,"i",(function(){return P})),e.d(t,"g",(function(){return S})),e.d(t,"h",(function(){return x})),e.d(t,"d",(function(){return T})),e.d(t,"c",(function(){return A})),e.d(t,"k",(function(){return D})),e.d(t,"b",(function(){return N}));var r=e("h4VS"),a=e("lTCR"),i=e.n(a);function o(){var n=Object(r.a)(["\n  query getOrganizations(\n    $sort: String\n    $start: Int\n    $limit: Int\n    $where: JSON\n  ) {\n    organizations(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      organizationName\n      mission\n      coverImage {\n        id\n        url\n      }\n      projects {\n        id\n      }\n    }\n  }\n"]);return o=function(){return n},n}function l(){var n=Object(r.a)(["\n  query {\n    tags {\n      id\n      name\n    }\n  }\n"]);return l=function(){return n},n}function u(){var n=Object(r.a)(["\n  query {\n    organizations {\n      id\n      organizationName\n    }\n  }\n"]);return u=function(){return n},n}function s(){var n=Object(r.a)(["\n  query getPortfolios($sort: String, $start: Int, $limit: Int, $where: JSON) {\n    portfolios(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      period\n      paymentSize\n      paymentDate\n      organization {\n        id\n        organizationName\n        profilePicture {\n          id\n          url\n        }\n      }\n    }\n  }\n"]);return s=function(){return n},n}function c(){var n=Object(r.a)(["\n  query getProjectReviews(\n    $sort: String\n    $start: Int\n    $limit: Int\n    $where: JSON\n  ) {\n    reviews(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      review\n      rating\n      donor {\n        id\n        fullName\n        profilePicture {\n          id\n          url\n        }\n      }\n    }\n  }\n"]);return c=function(){return n},n}function d(){var n=Object(r.a)(["\n  query getProjectDonations(\n    $sort: String\n    $start: Int\n    $limit: Int\n    $where: JSON\n  ) {\n    donations(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      amount\n      createdAt\n      donor {\n        id\n        fullName\n        profilePicture {\n          id\n          url\n        }\n      }\n    }\n  }\n"]);return d=function(){return n},n}function m(){var n=Object(r.a)(["\n  query getProjectUpdates(\n    $sort: String\n    $start: Int\n    $limit: Int\n    $where: JSON\n  ) {\n    updates(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      update\n      createdAt\n      images {\n        id\n        url\n      }\n    }\n  }\n"]);return m=function(){return n},n}function g(){var n=Object(r.a)(['\n  query getProjects($sort: String, $start: Int, $limit: Int, $where: JSON) {\n    projects(sort: $sort, start: $start, limit: $limit, where: $where) {\n      id\n      createdAt\n      updatedAt\n      name\n      status\n      shortDescription\n      description\n      totalDonations\n      titleImage {\n        id\n        url\n      }\n      organization {\n        id\n        profilePicture {\n          id\n          url\n        }\n        organizationName\n      }\n      targetAmount\n      relatedImages {\n        id\n        url\n      }\n      donations(sort: "createdAt:desc") {\n        id\n        createdAt\n      }\n      reviews {\n        id\n      }\n      tags {\n        id\n        name\n      }\n      updates {\n        id\n      }\n    }\n  }\n']);return g=function(){return n},n}function p(){var n=Object(r.a)(["\n  query getProject($id: ID!) {\n    project(id: $id) {\n      id\n      createdAt\n      updatedAt\n      name\n      status\n      shortDescription\n      description\n      totalDonations\n      titleImage {\n        id\n        url\n      }\n      organization {\n        id\n        profilePicture {\n          id\n          url\n        }\n        organizationName\n      }\n      targetAmount\n      relatedImages {\n        id\n        url\n      }\n      donations {\n        id\n      }\n      reviews {\n        id\n      }\n      tags {\n        id\n        name\n      }\n      updates {\n        id\n      }\n    }\n  }\n"]);return p=function(){return n},n}function f(){var n=Object(r.a)(["\n  query {\n    tags {\n      id\n      name\n      description\n    }\n  }\n"]);return f=function(){return n},n}function h(){var n=Object(r.a)(["\n  query organizationInfo($fields: JSON) {\n    organizations(where: $fields) {\n      id\n      organizationName\n      registrationNumber\n      focalPerson\n      address\n      mobileNumber\n      overview\n      mission\n      user {\n        id\n        email\n        role {\n          name\n        }\n      }\n      profilePicture {\n        id\n        url\n      }\n      coverImage {\n        id\n        url\n      }\n\n      projects {\n        id\n      }\n\n      taxExemptionForm {\n        id\n        url\n      }\n      registrationCertificate {\n        id\n        url\n      }\n    }\n  }\n"]);return h=function(){return n},n}function b(){var n=Object(r.a)(["\n  query DonorInfo($fields: JSON) {\n    donors(where: $fields) {\n      id\n      fullName\n      profilePicture {\n        id\n        url\n      }\n      preferredTags {\n        id\n        name\n        description\n      }\n      visitedTags {\n        id\n        name\n        description\n      }\n      user {\n        id\n        email\n        role {\n          name\n        }\n      }\n      portfolios {\n        id\n        organization {\n          id\n          organizationName\n        }\n      }\n      creditAmount\n      mobileNumber\n      cnic\n    }\n  }\n"]);return b=function(){return n},n}function y(){var n=Object(r.a)(["\n  query {\n    me {\n      id\n      confirmed\n      blocked\n      role {\n        name\n      }\n    }\n  }\n"]);return y=function(){return n},n}var v=i()(y()),j=i()(b()),w=i()(h()),$=i()(f()),O=i()(p()),I=i()(g()),P=i()(m()),S=i()(d()),x=i()(c()),T=i()(s()),A=i()(u()),D=i()(l()),N=i()(o())},gFQV:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addProject",function(){return e("3en3")}])}},[["gFQV",0,2,1,3,6,4,5,7,8,10,13,12,11,14,15,18,19,9]]]);