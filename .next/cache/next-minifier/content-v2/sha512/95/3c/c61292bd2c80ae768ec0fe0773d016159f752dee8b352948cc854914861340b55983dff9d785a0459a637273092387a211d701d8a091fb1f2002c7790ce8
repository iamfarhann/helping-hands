{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{\"/hs5\":function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account_o\",function(){return n(\"umB6\")}])},p46w:function(e,a,n){var t,o;!function(r){if(void 0===(o=\"function\"===typeof(t=r)?t.call(a,n,a,e):t)||(e.exports=o),!0,e.exports=r(),!!0){var i=window.Cookies,l=window.Cookies=r();l.noConflict=function(){return window.Cookies=i,l}}}((function(){function e(){for(var e=0,a={};e<arguments.length;e++){var n=arguments[e];for(var t in n)a[t]=n[t]}return a}function a(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(t){function o(){}function r(a,n,r){if(\"undefined\"!==typeof document){\"number\"===typeof(r=e({path:\"/\"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():\"\";try{var i=JSON.stringify(n);/^[\\{\\[]/.test(i)&&(n=i)}catch(c){}n=t.write?t.write(n,a):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),a=encodeURIComponent(String(a)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\\(\\)]/g,escape);var l=\"\";for(var s in r)r[s]&&(l+=\"; \"+s,!0!==r[s]&&(l+=\"=\"+r[s].split(\";\")[0]));return document.cookie=a+\"=\"+n+l}}function i(e,n){if(\"undefined\"!==typeof document){for(var o={},r=document.cookie?document.cookie.split(\"; \"):[],i=0;i<r.length;i++){var l=r[i].split(\"=\"),s=l.slice(1).join(\"=\");n||'\"'!==s.charAt(0)||(s=s.slice(1,-1));try{var c=a(l[0]);if(s=(t.read||t)(s,c)||a(s),n)try{s=JSON.parse(s)}catch(u){}if(o[c]=s,e===c)break}catch(u){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(a,n){r(a,\"\",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},umB6:function(e,a,n){\"use strict\";n.r(a);var t=n(\"o0o1\"),o=n.n(t),r=n(\"HaE+\"),i=n(\"ODXe\"),l=(n(\"wx14\"),n(\"q1tI\")),s=n.n(l),c=n(\"YFqc\"),u=n.n(c),d=n(\"RytF\"),m=(n(\"CRF/\"),n(\"8Kt/\")),p=n.n(m),g=n(\"t8Fj\"),f=n.n(g),b=n(\"vOnD\"),h=n(\"7DIm\"),y=n(\"XoTP\"),v=n(\"EnxY\"),x=n(\"OdHS\"),N=n(\"6jvx\"),C=n(\"b01i\"),w=n(\"txJt\"),O=n(\"tRbT\"),P=n(\"kKAo\"),T=n(\"Ji2X\"),z=n(\"wb2y\"),j=n(\"R/WZ\"),E=n(\"eD//\"),S=n(\"tVbE\"),F=n(\"56Ss\"),k=n(\"IsqK\"),D=n(\"OGHJ\"),B=n(\"XcVC\"),A=n(\"Ti5m\"),R=n.n(A),U=n(\"WA69\"),W=n.n(U),q=n(\"gALc\"),I=n.n(q),L=n(\"ldhQ\"),J=n.n(L),_=n(\"r9w1\"),V=(n(\"cq6o\"),n(\"LnxZ\")),X=n(\"vDqi\"),H=n.n(X),Y=n(\"p46w\"),Z=n.n(Y),K=(n(\"nOHt\"),n(\"DNyS\")),G=n(\"KYPV\"),M=n(\"UGp+\"),Q=n(\"ttZb\"),$=n(\"uVoW\"),ee=s.a.createElement,ae=Object(j.a)((function(e){return{root:{width:\"100%\",maxWidth:360,backgroundColor:e.palette.background.paper}}}));a.default=function(){var e=ae(),a=Object(K.c)(),n=Object(K.b)(),t=Object(l.useState)([]),s=(t[0],t[1],Object(l.useState)(null)),c=(s[0],s[1],Object(l.useState)(null)),m=(c[0],c[1],Object(l.useState)(null)),g=(m[0],m[1],Object(l.useState)(null)),j=(g[0],g[1],Object(l.useState)(\"\")),A=(j[0],j[1]),U=Object(l.useState)(!1),q=U[0],L=U[1],X=Object(l.useState)(\"\"),Y=X[0],ne=X[1],te=Object(l.useState)(!1),oe=(te[0],te[1]),re=Object(l.useState)(\"\"),ie=re[0],le=re[1],se=Object(Q.c)($.g,{onCompleted:function(e){console.log(e),a({type:\"UPDATE\",payload:e.updateOrganization.organization}),ne(\"Changes saved succesfully!\"),L(!1)},onError:function(e){console.log(e),ne(\"Sorry an error occurred. Please try again!\")}}),ce=Object(i.a)(se,1)[0],ue=Object(Q.c)($.g,{onCompleted:function(e){console.log(e),a({type:\"UPDATE\",payload:e.updateOrganization.organization}),le(\"File Uploaded Succesfully!\"),oe(!1)},onError:function(e){console.log(e),le(\"Sorry an error occurred. Please try again!\")}}),de=Object(i.a)(ue,1)[0],me=[{email:M.e().email(\"Email not valid\").required(\"Please Enter Your Email\"),focalPerson:M.e().required(\"Please Enter Full Name\"),mobileNumber:M.e().required(\"Please Enter Your Mobile Number\"),organizationName:M.e().required(\"Please Enter Organization Name\"),address:M.e().required(\"Please Enter Organization Address\"),registrationNumber:M.e()}],pe=Object(G.a)({initialValues:{focalPerson:\"\",mobileNumber:\"\",organizationName:\"\",address:\"\",registrationNumber:\"\"},onSubmit:function(e){console.log(e),L(!0),ne(null),A(e),ce({variables:{fields:{data:{focalPerson:e.focalPerson,mobileNumber:e.mobileNumber,address:e.address,organizationName:e.organizationName,registrationNumber:e.registrationNumber},where:{id:n.id}}}})},validationSchema:M.c().shape(me[0])}),ge=pe.handleBlur,fe=pe.handleChange,be=pe.handleSubmit,he=(pe.handleReset,pe.values),ye=pe.touched,ve=pe.errors,xe=pe.setFieldValue;Object(l.useEffect)((function(){console.log(n,\"organization\"),n.id&&(xe(\"organizationName\",n.organizationName),xe(\"registrationNumber\",n.registrationNumber),xe(\"focalPerson\",n.focalPerson),xe(\"email\",n.user.email),xe(\"address\",n.address),xe(\"mobileNumber\",n.mobileNumber))}),[n]);var Ne=function(){var e=Object(r.a)(o.a.mark((function e(a,t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a,t),!a.length){e.next=14;break}return oe(!0),r=new FormData,a.forEach((function(e){r.append(\"files\",e)})),e.prev=5,e.next=8,H.a.post(\"http://localhost:1337/upload\",r,{headers:{\"Content-type\":\"multipart/form-data\"}}).then((function(e){console.log(e.data),\"logo\"==t&&de({variables:{fields:{data:{profilePicture:e.data[0].id},where:{id:n.id}}}}),\"cover\"==t&&de({variables:{fields:{data:{profilePicture:e.data[0].id},where:{id:n.id}}}}),\"regFile\"==t&&de({variables:{fields:{data:{registrationCertificate:e.data[0].id},where:{id:n.id}}}}),\"taxFile\"==t&&de({variables:{fields:{data:{taxExemptionForm:e.data[0].id},where:{id:n.id}}}}),L(!1)}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0,\"error\"),le(\"Sorry an error occurred. Please try again!\");case 14:case\"end\":return e.stop()}}),e,null,[[5,10]])})));return function(a,n){return e.apply(this,arguments)}}();return ee(b.a,{theme:h.a},ee(l.Fragment,null,ee(p.a,null,ee(\"title\",null,\"My Account | Esaar\"),ee(\"meta\",{name:\"Description\",content:\"React next landing page\"}),ee(\"meta\",{name:\"theme-color\",content:\"#FCF22B\"}),ee(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),ee(\"link\",{href:\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",rel:\"stylesheet\"})),ee(y.a,null),ee(w.c,null),ee(w.a,null,ee(f.a,{top:0,innerZ:9999,activeClass:\"sticky-nav-active\"},ee(x.a,null)),ee(v.b,null,ee(N.a,null)),ee(w.b,null,ee(O.a,{container:!0,style:{maxWidth:\"1170px\",minHeight:\"100vh\",paddingTop:\"140px\",marginLeft:\"170px\"}},ee(O.a,{item:!0,md:3},ee(P.a,{style:{height:\"90vh\"}},ee(T.a,{style:{padding:\"40px\"}},ee(\"div\",{className:e.root},ee(E.a,{component:\"nav\",\"aria-label\":\"main mailbox folders\"},ee(u.a,{href:\"/account_o\"},ee(S.a,{button:!0},ee(F.a,null,ee(R.a,null)),ee(k.a,{primary:\"Account\"}))),ee(z.a,null),ee(u.a,{href:\"/addProject\"},ee(S.a,{button:!0},ee(F.a,null,ee(W.a,null)),ee(k.a,{primary:\"Add Project \"}))),ee(z.a,null),ee(u.a,{href:\"/myProjects\"},ee(S.a,{button:!0},ee(F.a,null,ee(I.a,null)),ee(k.a,{primary:\"Projects\"}))),ee(z.a,null),ee(S.a,{button:!0,onClick:function(){console.log(\"logout called\"),Z.a.remove(\"token\"),a({type:\"LOGOUT\",payload:{}}),window.location=\"/\"}},ee(F.a,null,ee(J.a,null)),ee(k.a,{primary:\"Logout\"}))))))),ee(O.a,{item:!0,md:8,style:{marginLeft:\"30px\"}},ee(P.a,{style:{height:\"100%\"}},ee(T.a,{style:{padding:\"40px\"}},\" \",ee(B.a,{content:\"Profile\",color:\"#05B890\"}),\" \",ee(z.a,null),ee(O.a,{container:!0},ee(O.a,{item:!0,md:5,style:{marginTop:\"30px\"}},ee(B.a,{content:\"Organization Name\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{name:\"organizationName\",value:he.organizationName,onChange:fe,onBlur:ge,error:ve.organizationName&&ye.organizationName,helperText:ve.organizationName&&ye.organizationName?ve.organizationName:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),ee(B.a,{content:\"Focal Person\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{name:\"focalPerson\",value:he.focalPerson,onChange:fe,onBlur:ge,error:ve.focalPerson&&ye.focalPerson,helperText:ve.focalPerson&&ye.focalPerson?ve.focalPerson:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"small\",fullWidth:!0}),ee(B.a,{content:\"Email ID\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{type:\"email\",name:\"email\",inputProps:{readOnly:!0},value:he.email,onChange:fe,onBlur:ge,error:ve.email&&ye.email,helperText:ve.email&&ye.email?ve.email:null,label:\"\",variant:\"outlined\",size:\"small\",style:{color:\"#05B890\"},fullWidth:!0}),ee(B.a,{content:\"Logo\",as:\"h4\",style:{marginTop:\"1rem\"}}),ee(V.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return Ne(e,\"logo\")}})),ee(O.a,{item:!0,md:1}),ee(O.a,{item:!0,md:5,style:{marginTop:\"30px\"}},ee(B.a,{content:\"Registration Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{name:\"registrationNumber\",value:he.registrationNumber,onChange:fe,onBlur:ge,error:ve.registrationNumber&&ye.registrationNumber,helperText:ve.registrationNumber&&ye.registrationNumber?ve.registrationNumber:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),ee(B.a,{content:\"Contact Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{name:\"mobileNumber\",value:he.mobileNumber,onChange:fe,onBlur:ge,error:ve.mobileNumber&&ye.mobileNumber,helperText:ve.mobileNumber&&ye.mobileNumber?ve.mobileNumber:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"small\",fullWidth:!0}),ee(B.a,{content:\"Address\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",ee(_.a,{name:\"address\",value:he.address,onChange:fe,onBlur:ge,error:ve.address&&ye.address,helperText:ve.address&&ye.address?ve.address:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",multiline:!0,rows:1,size:\"small\",style:{color:\"#05B890\"},fullWidth:!0}),ee(B.a,{content:\"Cover\",as:\"h4\",style:{marginTop:\"1rem\"}}),ee(V.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return Ne(e,\"cover\")}})),ee(O.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},Y?ee(d.a,{content:Y}):null)),ee(O.a,{item:!0,md:12,style:{marginTop:\"30px\"}},ee(B.a,{content:\"Documents\",color:\"#05B890\"}),ee(z.a,null),ee(B.a,{content:\"Registration Certificate\",as:\"h4\",style:{marginTop:\"1rem\"}}),ee(V.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return Ne(e,\"regFile\")}}),ee(B.a,{content:\"Tax Exemption Form\",as:\"h4\",style:{marginTop:\"1rem\"}}),ee(V.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return Ne(e,\"taxFile\")}}),ee(O.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},ie?ee(d.a,{content:ie}):null),ee(O.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},ee(D.a,{title:\"Update Changes\",variant:\"extendedFab\",onClick:be,disabled:q,isLoading:q,style:{marginTop:\"20px\",marginLeft:\"230px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",minWidth:\"200px\",height:\"auto\"}})))))))),ee(C.a,null))))}}},[[\"/hs5\",0,1,2,3,5,4,6,9,8,10,11,12,13,14,15,16,18,7]]]);","extractedComments":[]}