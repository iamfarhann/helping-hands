{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{d2kC:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup_o\",function(){return r(\"wgvT\")}])},wgvT:function(e,a,r){\"use strict\";r.r(a);var n=r(\"o0o1\"),t=r.n(n),o=r(\"HaE+\"),l=r(\"ODXe\"),i=r(\"q1tI\"),s=r.n(i),m=(r(\"CRF/\"),r(\"8Kt/\")),u=r.n(m),d=r(\"t8Fj\"),c=r.n(d),g=r(\"vOnD\"),p=r(\"7DIm\"),b=r(\"XoTP\"),h=r(\"EnxY\"),f=r(\"OdHS\"),w=r(\"6jvx\"),N=r(\"b01i\"),y=r(\"txJt\"),x=r(\"tRbT\"),T=r(\"kKAo\"),E=r(\"Ji2X\"),C=r(\"wb2y\"),P=r(\"OGHJ\"),v=r(\"XcVC\"),O=r(\"r9w1\"),z=r(\"LnxZ\"),j=r(\"vDqi\"),k=r.n(j),F=r(\"nOHt\"),B=r(\"KYPV\"),S=r(\"UGp+\"),D=r(\"ttZb\"),R=r(\"uVoW\"),W=s.a.createElement;a.default=function(){var e=Object(F.useRouter)(),a=Object(i.useState)(\"\"),r=a[0],n=a[1],s=Object(i.useState)(!1),m=s[0],d=s[1],j=Object(i.useState)(null),q=j[0],L=j[1],_=Object(i.useState)([]),X=(_[0],_[1],Object(i.useState)(null)),H=X[0],J=X[1],V=Object(i.useState)(null),A=V[0],I=V[1],Y=Object(D.c)(R.e,{onCompleted:function(a){console.log(a),e.push(\"/signin\")},onError:function(e){e.graphQLErrors,e.networkError;console.log(\"Register Error\"),L(\"User already exists\"),d(!1)}}),K=Object(l.a)(Y,1)[0],Z=Object(D.c)(R.b,{onCompleted:function(e){console.log(e,\"Organization\"),K({variables:{fields:{data:{organization:e.createOrganization.organization.id,username:r.email.split(\"@\")[0],email:r.email,password:r.password,confirmed:!0,isDonor:!1}}}})},onError:function(e){var a=e.networkError,r=e.graphQLErrors;console.log(a.result,r,\"Donor Signup\"),L(\"Sorry, an error occured, try again\"),d(!1)}}),G=Object(l.a)(Z,1)[0],Q=[{email:S.e().email(\"Email not valid\").required(\"Please Enter Your Email\"),orgName:S.e().required(\"Please Enter Organization Name\"),address:S.e().required(\"Please Enter Organization Address\"),regNumber:S.e().required(\"Please Enter Registration Number\"),password:S.e().required(\"Please Enter Password\"),fullName:S.e().required(\"Please Enter Full Name\"),mobileNumber:S.e().required(\"Please Enter Your Mobile Number\"),confirmPassword:S.e().oneOf([S.d(\"password\"),null],\"Passwords must match\").required(\"Pleaser confirm password\")}],U=Object(B.a)({initialValues:{orgName:\"\",regNumber:\"\",address:\"\",fullName:\"\",email:\"\",mobileNumber:\"\",password:\"\",confirmPassword:\"\"},onSubmit:function(e){console.log(e),d(!0),L(null),n(e),G({variables:{fields:{data:{organizationName:e.orgName,focalPerson:e.fullName,registrationNumber:e.regNumber,mobileNumber:e.mobileNumber,registrationCertificate:H?H.id:null,taxExemptionForm:A?A.id:null}}}})},validationSchema:S.c().shape(Q[0])}),M=U.handleBlur,$=U.handleChange,ee=U.handleSubmit,ae=(U.handleReset,U.values),re=U.touched,ne=U.errors,te=(U.setFieldValue,function(){var e=Object(o.a)(t.a.mark((function e(a,r){var n;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),console.log(a,r),!a.length){e.next=7;break}return n=new FormData,a.forEach((function(e){n.append(\"files\",e)})),e.next=7,k.a.post(\"http://localhost:1337/upload\",n,{headers:{\"Content-type\":\"multipart/form-data\"}}).then((function(e){console.log(e.data),\"registration\"==r&&J(e.data[0]),\"tax\"==r&&I(e.data[0]),d(!1)}));case 7:case\"end\":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}());return W(g.a,{theme:p.a},W(i.Fragment,null,W(u.a,null,W(\"title\",null,\"Register your organization | Esaar\"),W(\"meta\",{name:\"Description\",content:\"React next landing page\"}),W(\"meta\",{name:\"theme-color\",content:\"#FCF22B\"}),W(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),W(\"link\",{href:\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",rel:\"stylesheet\"})),W(b.a,null),W(y.c,null),W(y.a,null,W(c.a,{top:0,innerZ:9999,activeClass:\"sticky-nav-active\"},W(f.a,null)),W(h.b,null,W(w.a,null)),W(y.b,null,W(x.a,{container:!0,style:{maxWidth:\"1170px\",minHeight:\"100vh\",paddingTop:\"140px\",marginLeft:\"170px\"}},W(x.a,{item:!0,md:2}),W(x.a,{item:!0,md:8,style:{marginLeft:\"30px\"}},W(T.a,{style:{height:\"100%\"}},W(E.a,{style:{padding:\"40px\"}},\" \",W(v.a,{content:\"Register your organization\",color:\"#05B890\"}),\" \",W(C.a,null),W(x.a,{container:!0},W(x.a,{item:!0,md:5,style:{marginTop:\"30px\"}},W(v.a,{content:\"Organization Name\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{name:\"orgName\",id:\"outlined-basic\",onChange:$,onBlur:M,error:ne.orgName&&re.orgName,helperText:ne.orgName&&re.orgName?ne.orgName:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(v.a,{content:\"Focal Person\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{name:\"fullName\",onChange:$,onBlur:M,error:ne.fullName&&re.fullName,helperText:ne.fullName&&re.fullName?ne.fullName:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(v.a,{content:\"Email ID\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{id:\"outlined-basic\",label:\"\",type:\"email\",name:\"email\",onChange:$,onBlur:M,error:ne.email&&re.email,helperText:ne.email&&re.email?ne.email:null,size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(v.a,{content:\"Password\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{label:\"\",name:\"password\",onChange:$,type:\"password\",value:ae.password,onBlur:M,fullWidth:!0,error:ne.password&&re.password,helperText:ne.password&&re.password?ne.password:null})),W(x.a,{item:!0,md:1}),W(x.a,{item:!0,md:5,style:{marginTop:\"30px\"}},W(v.a,{content:\"Registration Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{name:\"regNumber\",id:\"outlined-basic\",onChange:$,onBlur:M,error:ne.regNumber&&re.regNumber,helperText:ne.regNumber&&re.regNumber?ne.regNumber:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(v.a,{content:\"Contact Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{id:\"outlined-basic\",name:\"mobileNumber\",onChange:$,onBlur:M,error:ne.mobileNumber&&re.mobileNumber,helperText:ne.mobileNumber&&re.mobileNumber?ne.mobileNumber:null,label:\"\",size:\"small\",style:{color:\"#05B890\"},fullWidth:!0}),W(v.a,{content:\"Address\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{name:\"address\",onChange:$,onBlur:M,error:ne.address&&re.address,helperText:ne.address&&re.address?ne.address:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(v.a,{content:\"Confirm Password\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(O.a,{label:\"\",name:\"confirmPassword\",onChange:$,type:\"password\",value:ae.confirmPassword,onBlur:M,fullWidth:!0,error:ne.confirmPassword&&re.confirmPassword,helperText:ne.confirmPassword&&re.confirmPassword?ne.confirmPassword:null}))),W(x.a,{item:!0,md:12,style:{marginTop:\"30px\"}},W(v.a,{content:\"Documents\",color:\"#05B890\"}),W(C.a,null),W(v.a,{content:\"Registration Certificate\",as:\"h4\",style:{marginTop:\"1rem\"}}),W(z.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return te(e,\"registration\")}}),W(v.a,{content:\"Tax Exemption Form\",as:\"h4\",style:{marginTop:\"1rem\"}}),W(z.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return te(e,\"tax\")}}),W(x.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},q?W(Text,{content:q}):null),W(x.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},W(P.a,{title:\"Create Account\",variant:\"extendedFab\",onClick:ee,disabled:m,isLoading:m,style:{marginTop:\"20px\",marginLeft:\"230px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",minWidth:\"200px\",height:\"auto\"}})))))))),W(N.a,null))))}}},[[\"d2kC\",0,2,1,4,3,5,6,9,10,8,11,12,14,15,16,7]]]);","extractedComments":[]}