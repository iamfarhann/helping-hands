{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{\"3en3\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"o0o1\"),r=n.n(a),o=n(\"HaE+\"),i=n(\"ODXe\"),l=n(\"q1tI\"),c=n.n(l),u=n(\"RytF\"),s=n(\"OGHJ\"),d=n(\"YFqc\"),m=n.n(d),g=n(\"8Kt/\"),p=n.n(g),f=n(\"t8Fj\"),h=n.n(f),b=n(\"vOnD\"),v=n(\"7DIm\"),y=n(\"XoTP\"),j=n(\"EnxY\"),x=n(\"OdHS\"),O=n(\"6jvx\"),T=n(\"b01i\"),P=n(\"txJt\"),I=n(\"4fwK\"),w=n(\"tRbT\"),C=n(\"kKAo\"),S=n(\"Ji2X\"),D=n(\"wb2y\"),A=n(\"vDqi\"),k=n.n(A),q=n(\"R/WZ\"),z=n(\"eD//\"),E=n(\"tVbE\"),F=n(\"56Ss\"),V=n(\"IsqK\"),N=n(\"XcVC\"),R=n(\"Ti5m\"),_=n.n(R),L=n(\"WA69\"),W=n.n(L),B=n(\"gALc\"),J=n.n(B),K=n(\"ldhQ\"),M=n.n(K),X=n(\"r9w1\"),H=n(\"DNyS\"),Z=n(\"KYPV\"),Q=n(\"UGp+\"),Y=n(\"ttZb\"),$=n(\"uVoW\"),G=n(\"LnxZ\"),U=c.a.createElement,ee=Object(q.a)((function(e){return{root:{width:\"100%\",maxWidth:360,backgroundColor:e.palette.background.paper}}})),te=function(){console.log(\"logout called\"),cookie.remove(\"token\"),dispatch({type:\"LOGOUT\",payload:{}}),window.location=\"/\"};t.default=function(){var e=ee(),t=(Object(H.c)(),Object(H.b)()),n=Object(l.useState)([]),a=(n[0],n[1],Object(l.useState)(null)),c=(a[0],a[1],Object(l.useState)(null)),d=(c[0],c[1],Object(l.useState)(null)),g=(d[0],d[1],Object(l.useState)(null)),f=(g[0],g[1],Object(l.useState)(\"\")),A=(f[0],f[1],Object(l.useState)(!1)),q=A[0],R=A[1],L=Object(l.useState)(\"\"),B=L[0],K=L[1],ne=Object(l.useState)(!1),ae=(ne[0],ne[1],Object(l.useState)(\"\")),re=(ae[0],ae[1],Object(Y.c)($.c,{onCompleted:function(e){console.log(e),K(\"Project Added succesfully!\"),R(!1),de()},onError:function(e){console.log(e),K(\"Sorry an error occurred. Please try again!\")}})),oe=Object(i.a)(re,1)[0],ie=[{name:Q.e().required(\"Please Enter Project Title\"),targetAmount:Q.b().required(\"Please Enter Target Amount\"),shortDescription:Q.e().required(\"Please Enter Short Description\"),description:Q.e().required(\"Please Enter Project Details\"),titleImage:Q.e().required(\"Please Upload a title image\"),relatedImages:Q.a(),tags:Q.a()}],le=Object(Z.a)({initialValues:{name:\"\",targetAmount:0,shortDescription:\"\",description:\"\",titleImage:\"\",relatedImages:[],tags:[]},onSubmit:function(e){console.log(\"On Submit\"),console.log(e),R(!0),K(null),oe({variables:{fields:{data:{titleImage:e.titleImage,relatedImages:e.relatedImages.length?e.relatedImages:null,name:e.name,targetAmount:e.targetAmount,shortDescription:e.shortDescription,description:e.description,organization:t.id,status:\"active\",tags:e.tags.length?e.tags.map((function(e){return e.id})):null}}}})},validationSchema:Q.c().shape(ie[0])}),ce=le.handleBlur,ue=le.handleChange,se=le.handleSubmit,de=le.handleReset,me=le.values,ge=le.touched,pe=le.errors,fe=le.setFieldValue,he=function(){var e=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,n),!t.length){e.next=16;break}return R(!0),a=new FormData,t.forEach((function(e){a.append(\"files\",e)})),e.prev=5,e.next=8,k.a.post(\"http://localhost:1337/upload\",a,{headers:{\"Content-type\":\"multipart/form-data\"}}).then((function(e){if(console.log(e.data),\"titleImage\"==n&&fe(\"titleImage\",e.data[0].id),\"relatedImages\"==n){var t=[];e.data.map((function(e){t.push(e.id)})),fe(\"relatedImages\",t)}R(!1)}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0,\"error\"),K(\"Sorry an error occurred. Please try again!\");case 14:e.next=17;break;case 16:fe(\"titleImage\",\"\");case 17:case\"end\":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}();return U(b.a,{theme:v.a},U(l.Fragment,null,U(p.a,null,U(\"title\",null,\"My Account | Esaar\"),U(\"meta\",{name:\"Description\",content:\"React next landing page\"}),U(\"meta\",{name:\"theme-color\",content:\"#FCF22B\"}),U(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),U(\"link\",{href:\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",rel:\"stylesheet\"})),U(y.a,null),U(P.c,null),U(P.a,null,U(h.a,{top:0,innerZ:9999,activeClass:\"sticky-nav-active\"},U(x.a,null)),U(j.b,null,U(O.a,null)),U(P.b,null,U(w.a,{container:!0,style:{maxWidth:\"1170px\",minHeight:\"100vh\",paddingTop:\"140px\",marginLeft:\"170px\"}},U(w.a,{item:!0,md:3},U(C.a,{style:{height:\"100%\"}},U(S.a,{style:{padding:\"40px\"}},U(\"div\",{className:e.root},U(z.a,{component:\"nav\",\"aria-label\":\"main mailbox folders\"},U(m.a,{href:\"/account_o\"},U(E.a,{button:!0},U(F.a,null,U(_.a,null)),U(V.a,{primary:\"Account\"}))),U(D.a,null),U(m.a,{href:\"/addProject\"},U(E.a,{button:!0},U(F.a,null,U(W.a,null)),U(V.a,{primary:\"Add Project \"}))),U(D.a,null),U(m.a,{href:\"/myProjects\"},U(E.a,{button:!0},U(F.a,null,U(J.a,null)),U(V.a,{primary:\"Projects\"}))),U(D.a,null),U(E.a,{button:!0,onClick:te},U(F.a,null,U(M.a,null)),U(V.a,{primary:\"Logout\"}))))))),U(w.a,{item:!0,md:8,style:{marginLeft:\"30px\"}},U(C.a,{style:{height:\"100%\"}},U(S.a,{style:{padding:\"40px\"}},\" \",U(N.a,{content:\"Add Project\",color:\"#05B890\"}),\" \",U(D.a,null),U(w.a,{item:!0,md:7,style:{marginTop:\"30px\"}},U(N.a,{content:\"Project Title\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",U(X.a,{name:\"name\",onChange:ue,onBlur:ce,error:pe.name&&ge.name,helperText:pe.name&&ge.name?pe.name:null,label:\"\",variant:\"outlined\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),U(N.a,{content:\"Target Amount\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",U(X.a,{name:\"targetAmount\",type:\"number\",onChange:ue,onBlur:ce,error:pe.targetAmount&&ge.targetAmount,helperText:pe.targetAmount&&ge.targetAmount?pe.targetAmount:null,id:\"outlined-basic\",label:\"in PKR\",variant:\"outlined\",size:\"small\",fullWidth:!0}),U(I.a,{values:me,setFieldValue:fe}),U(N.a,{content:\"Short Description\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",U(X.a,{name:\"shortDescription\",onChange:ue,onBlur:ce,error:pe.shortDescription&&ge.shortDescription,helperText:pe.shortDescription&&ge.shortDescription?pe.shortDescription:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"small\",style:{color:\"#05B890\"},fullWidth:!0}),U(N.a,{content:\"Project Details\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",U(X.a,{name:\"description\",onChange:ue,onBlur:ce,error:pe.description&&ge.description,helperText:pe.description&&ge.description?pe.description:null,id:\"outlined-basic\",label:\"\",variant:\"outlined\",size:\"large\",multiline:!0,rows:5,style:{color:\"#05B890\"},fullWidth:!0})),U(N.a,{content:\"Title Image\",as:\"h4\",style:{marginTop:\"1rem\"}}),U(G.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop an image here or click\",onChange:function(e){return he(e,\"titleImage\")}}),pe.titleImage?U(u.a,{style:{color:\"orange\"},content:pe.titleImage}):null,U(N.a,{content:\"Related Images\",as:\"h4\",style:{marginTop:\"1rem\"}}),U(G.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return he(e,\"relatedImages\")}})),U(w.a,{container:!0,item:!0,md:12,style:{paddingLeft:\"40px\",alignContent:\"center\"}},B?U(u.a,{style:{color:\"orange\"},content:B}):null),U(w.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},U(s.a,{title:\"Create Project\",variant:\"extendedFab\",onClick:se,disabled:q,isLoading:q,style:{marginTop:\"20px\",marginLeft:\"260px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",minWidth:\"200px\",height:\"auto\"}})))))),U(T.a,null))))}},\"4fwK\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return g}));var a=n(\"q1tI\"),r=n.n(a),o=n(\"R/WZ\"),i=n(\"XcVC\"),l=n(\"ttZb\"),c=n(\"9jPY\"),u=n(\"R9qi\"),s=n(\"wb2y\"),d=r.a.createElement,m=Object(o.a)((function(e){return{}}));function g(e){var t=e.values,n=e.setFieldValue,o=(m(),Object(a.useState)([])),g=o[0],p=o[1],f=Object(l.d)(u.b),h=f.data;f.loading,f.error;Object(a.useEffect)((function(){h.tags&&p(h.tags)}),[h]);return d(r.a.Fragment,null,d(i.a,{content:\"Tags\",as:\"h4\",style:{marginTop:\"1rem\"}}),!t.tags.length&&d(i.a,{as:\"h6\",content:\"No Additional Tag Selected\"}),t.tags.map((function(e){return d(c.a,{key:e.id,size:\"small\",color:\"secondary\",label:e.name,style:{margin:\"3px\"},onDelete:function(){return function(e){console.log(e),n(\"tags\",t.tags.filter((function(t){return t.id!=e.id}))),p((function(t){return t.concat(e)}))}(e)}})})),d(s.a,{style:{marginTop:\"10px\",marginBottom:\"10px\"}}),g.length?d(i.a,{as:\"h6\",content:\"Click to add tags\"}):d(i.a,{as:\"h6\",content:\"No Additional Tags Left\"}),g.map((function(e){return d(c.a,{key:e.id,size:\"small\",variant:\"outlined\",color:\"secondary\",label:e.name,style:{margin:\"3px\"},onClick:function(){return function(e){console.log(e),p((function(t){return t.filter((function(t){return t.id!=e.id}))})),n(\"tags\",t.tags.concat(e))}(e)}})})))}},R9qi:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return s})),n.d(t,\"a\",(function(){return d})),n.d(t,\"d\",(function(){return m})),n.d(t,\"b\",(function(){return g}));var a=n(\"h4VS\"),r=n(\"lTCR\"),o=n.n(r);function i(){var e=Object(a.a)([\"\\n  query {\\n    tags {\\n      id\\n      name\\n      description\\n    }\\n  }\\n\"]);return i=function(){return e},e}function l(){var e=Object(a.a)([\"\\n  query organizationInfo($fields: JSON) {\\n    organizations(where: $fields) {\\n      id\\n      organizationName\\n      registrationNumber\\n      focalPerson\\n      address\\n      mobileNumber\\n      user {\\n        id\\n        email\\n        role {\\n          name\\n        }\\n      }\\n      profilePicture {\\n        id\\n        url\\n      }\\n      coverImage {\\n        id\\n        url\\n      }\\n\\n      projects {\\n        id\\n      }\\n\\n      taxExemptionForm {\\n        id\\n        url\\n      }\\n      registrationCertificate {\\n        id\\n        url\\n      }\\n    }\\n  }\\n\"]);return l=function(){return e},e}function c(){var e=Object(a.a)([\"\\n  query DonorInfo($fields: JSON) {\\n    donors(where: $fields) {\\n      id\\n      fullName\\n      profilePicture {\\n        id\\n        url\\n      }\\n      preferredTags {\\n        id\\n        name\\n        description\\n      }\\n      user {\\n        id\\n        email\\n        role {\\n          name\\n        }\\n      }\\n      creditAmount\\n      mobileNumber\\n      cnic\\n    }\\n  }\\n\"]);return c=function(){return e},e}function u(){var e=Object(a.a)([\"\\n  query {\\n    me {\\n      id\\n      confirmed\\n      blocked\\n      role {\\n        name\\n      }\\n    }\\n  }\\n\"]);return u=function(){return e},e}var s=o()(u()),d=o()(c()),m=o()(l()),g=o()(i())},Ti5m:function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=a(n(\"q1tI\")),o=(0,a(n(\"8/g6\")).default)(r.default.createElement(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"}),\"AccountCircle\");t.default=o},WA69:function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=a(n(\"q1tI\")),o=(0,a(n(\"8/g6\")).default)(r.default.createElement(\"path\",{d:\"M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z\"}),\"BusinessCenter\");t.default=o},gFQV:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/addProject\",function(){return n(\"3en3\")}])},ldhQ:function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=a(n(\"q1tI\")),o=(0,a(n(\"8/g6\")).default)(r.default.createElement(\"path\",{d:\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"}),\"PowerSettingsNew\");t.default=o}},[[\"gFQV\",0,1,2,3,5,4,6,9,8,10,11,12,13,14,15,16,7]]]);","extractedComments":[]}