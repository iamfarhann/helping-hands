{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{d2kC:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup_o\",function(){return r(\"wgvT\")}])},wb2y:function(e,a,r){\"use strict\";var t=r(\"wx14\"),n=r(\"Ff2n\"),o=r(\"q1tI\"),l=(r(\"17x9\"),r(\"iuhU\")),i=r(\"H2TA\"),s=r(\"ye/S\"),m=o.forwardRef((function(e,a){var r=e.absolute,i=void 0!==r&&r,s=e.classes,m=e.className,u=e.component,d=void 0===u?\"hr\":u,c=e.flexItem,g=void 0!==c&&c,p=e.light,h=void 0!==p&&p,b=e.orientation,f=void 0===b?\"horizontal\":b,w=e.role,N=void 0===w?\"hr\"!==d?\"separator\":void 0:w,x=e.variant,y=void 0===x?\"fullWidth\":x,v=Object(n.a)(e,[\"absolute\",\"classes\",\"className\",\"component\",\"flexItem\",\"light\",\"orientation\",\"role\",\"variant\"]);return(o.createElement(d,Object(t.a)({className:Object(l.a)(s.root,m,\"fullWidth\"!==y&&s[y],i&&s.absolute,g&&s.flexItem,h&&s.light,\"vertical\"===f&&s.vertical),role:N,ref:a},v)))}));a.a=Object(i.a)((function(e){return{root:{height:1,margin:0,border:\"none\",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:\"absolute\",bottom:0,left:0,width:\"100%\"},inset:{marginLeft:72},light:{backgroundColor:Object(s.d)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:\"100%\",width:1},flexItem:{alignSelf:\"stretch\",height:\"auto\"}}}),{name:\"MuiDivider\"})(m)},wgvT:function(e,a,r){\"use strict\";r.r(a);var t=r(\"o0o1\"),n=r.n(t),o=r(\"HaE+\"),l=r(\"ODXe\"),i=r(\"q1tI\"),s=r.n(i),m=(r(\"CRF/\"),r(\"8Kt/\")),u=r.n(m),d=r(\"t8Fj\"),c=r.n(d),g=r(\"vOnD\"),p=r(\"7DIm\"),h=r(\"XoTP\"),b=r(\"EnxY\"),f=r(\"OdHS\"),w=r(\"6jvx\"),N=r(\"b01i\"),x=r(\"txJt\"),y=r(\"tRbT\"),v=r(\"kKAo\"),T=r(\"Ji2X\"),E=r(\"wb2y\"),C=r(\"OGHJ\"),O=r(\"XcVC\"),P=r(\"r9w1\"),j=r(\"LnxZ\"),z=r(\"vDqi\"),k=r.n(z),S=r(\"nOHt\"),F=r(\"KYPV\"),B=r(\"UGp+\"),D=r(\"ttZb\"),R=r(\"uVoW\"),W=s.a.createElement;a.default=function(){var e=Object(S.useRouter)(),a=Object(i.useState)(\"\"),r=a[0],t=a[1],s=Object(i.useState)(!1),m=s[0],d=s[1],z=Object(i.useState)(null),q=z[0],I=z[1],L=Object(i.useState)([]),_=(L[0],L[1],Object(i.useState)(null)),H=_[0],X=_[1],A=Object(i.useState)(null),J=A[0],V=A[1],Y=Object(D.c)(R.e,{onCompleted:function(a){console.log(a),e.push(\"/signin\")},onError:function(e){e.graphQLErrors,e.networkError;console.log(\"Register Error\"),I(\"User already exists\"),d(!1)}}),K=Object(l.a)(Y,1)[0],U=Object(D.c)(R.b,{onCompleted:function(e){console.log(e,\"Organization\"),K({variables:{fields:{data:{organization:e.createOrganization.organization.id,username:r.email.split(\"@\")[0],email:r.email,password:r.password,confirmed:!0,isDonor:!1}}}})},onError:function(e){var a=e.networkError,r=e.graphQLErrors;console.log(a.result,r,\"Donor Signup\"),I(\"Sorry, an error occured, try again\"),d(!1)}}),Z=Object(l.a)(U,1)[0],G=[{email:B.e().email(\"Email not valid\").required(\"Please Enter Your Email\"),orgName:B.e().required(\"Please Enter Organization Name\"),address:B.e().required(\"Please Enter Organization Address\"),regNumber:B.e().required(\"Please Enter Registration Number\"),password:B.e().required(\"Please Enter Password\"),fullName:B.e().required(\"Please Enter Full Name\"),mobileNumber:B.e().required(\"Please Enter Your Mobile Number\"),confirmPassword:B.e().oneOf([B.d(\"password\"),null],\"Passwords must match\").required(\"Pleaser confirm password\")}],M=Object(F.a)({initialValues:{orgName:\"\",regNumber:\"\",address:\"\",fullName:\"\",email:\"\",mobileNumber:\"\",password:\"\",confirmPassword:\"\"},onSubmit:function(e){console.log(e),d(!0),I(null),t(e),Z({variables:{fields:{data:{organizationName:e.orgName,focalPerson:e.fullName,registrationNumber:e.regNumber,mobileNumber:e.mobileNumber,registrationCertificate:H?H.id:null,taxExemptionForm:J?J.id:null}}}})},validationSchema:B.c().shape(G[0])}),Q=M.handleBlur,$=M.handleChange,ee=M.handleSubmit,ae=(M.handleReset,M.values),re=M.touched,te=M.errors,ne=(M.setFieldValue,function(){var e=Object(o.a)(n.a.mark((function e(a,r){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),console.log(a,r),!a.length){e.next=7;break}return t=new FormData,a.forEach((function(e){t.append(\"files\",e)})),e.next=7,k.a.post(\"http://localhost:1337/upload\",t,{headers:{\"Content-type\":\"multipart/form-data\"}}).then((function(e){console.log(e.data),\"registration\"==r&&X(e.data[0]),\"tax\"==r&&V(e.data[0]),d(!1)}));case 7:case\"end\":return e.stop()}}),e)})));return function(a,r){return e.apply(this,arguments)}}());return W(g.a,{theme:p.a},W(i.Fragment,null,W(u.a,null,W(\"title\",null,\"Register your organization | Esaar\"),W(\"meta\",{name:\"Description\",content:\"React next landing page\"}),W(\"meta\",{name:\"theme-color\",content:\"#FCF22B\"}),W(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"}),W(\"link\",{href:\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",rel:\"stylesheet\"})),W(h.a,null),W(x.c,null),W(x.a,null,W(c.a,{top:0,innerZ:9999,activeClass:\"sticky-nav-active\"},W(f.a,null)),W(b.b,null,W(w.a,null)),W(x.b,null,W(y.a,{container:!0,style:{maxWidth:\"1170px\",minHeight:\"100vh\",paddingTop:\"140px\",marginLeft:\"170px\"}},W(y.a,{item:!0,md:2}),W(y.a,{item:!0,md:8,style:{marginLeft:\"30px\"}},W(v.a,{style:{height:\"100%\"}},W(T.a,{style:{padding:\"40px\"}},\" \",W(O.a,{content:\"Register your organization\",color:\"#05B890\"}),\" \",W(E.a,null),W(y.a,{container:!0},W(y.a,{item:!0,md:5,style:{marginTop:\"30px\"}},W(O.a,{content:\"Organization Name\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{name:\"orgName\",id:\"outlined-basic\",onChange:$,onBlur:Q,error:te.orgName&&re.orgName,helperText:te.orgName&&re.orgName?te.orgName:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(O.a,{content:\"Focal Person\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{name:\"fullName\",onChange:$,onBlur:Q,error:te.fullName&&re.fullName,helperText:te.fullName&&re.fullName?te.fullName:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(O.a,{content:\"Email ID\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{id:\"outlined-basic\",label:\"\",type:\"email\",name:\"email\",onChange:$,onBlur:Q,error:te.email&&re.email,helperText:te.email&&re.email?te.email:null,size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(O.a,{content:\"Password\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{label:\"\",name:\"password\",onChange:$,type:\"password\",value:ae.password,onBlur:Q,fullWidth:!0,error:te.password&&re.password,helperText:te.password&&re.password?te.password:null})),W(y.a,{item:!0,md:1}),W(y.a,{item:!0,md:5,style:{marginTop:\"30px\"}},W(O.a,{content:\"Registration Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{name:\"regNumber\",id:\"outlined-basic\",onChange:$,onBlur:Q,error:te.regNumber&&re.regNumber,helperText:te.regNumber&&re.regNumber?te.regNumber:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(O.a,{content:\"Contact Number\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{id:\"outlined-basic\",name:\"mobileNumber\",onChange:$,onBlur:Q,error:te.mobileNumber&&re.mobileNumber,helperText:te.mobileNumber&&re.mobileNumber?te.mobileNumber:null,label:\"\",size:\"small\",style:{color:\"#05B890\"},fullWidth:!0}),W(O.a,{content:\"Address\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{name:\"address\",onChange:$,onBlur:Q,error:te.address&&re.address,helperText:te.address&&re.address?te.address:null,label:\"\",size:\"small\",style:{color:\"#3E2672\"},fullWidth:!0}),W(O.a,{content:\"Confirm Password\",as:\"h4\",style:{marginTop:\"1rem\"}}),\" \",W(P.a,{label:\"\",name:\"confirmPassword\",onChange:$,type:\"password\",value:ae.confirmPassword,onBlur:Q,fullWidth:!0,error:te.confirmPassword&&re.confirmPassword,helperText:te.confirmPassword&&re.confirmPassword?te.confirmPassword:null}))),W(y.a,{item:!0,md:12,style:{marginTop:\"30px\"}},W(O.a,{content:\"Documents\",color:\"#05B890\"}),W(E.a,null),W(O.a,{content:\"Registration Certificate\",as:\"h4\",style:{marginTop:\"1rem\"}}),W(j.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return ne(e,\"registration\")}}),W(O.a,{content:\"Tax Exemption Form\",as:\"h4\",style:{marginTop:\"1rem\"}}),W(j.a,{acceptedFiles:[\"image/*\"],dropzoneText:\"Drag and drop images here or click\",onChange:function(e){return ne(e,\"tax\")}}),W(y.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},q?W(Text,{content:q}):null),W(y.a,{container:!0,item:!0,md:12,style:{alignContent:\"center\"}},W(C.a,{title:\"Create Account\",variant:\"extendedFab\",onClick:ee,disabled:m,isLoading:m,style:{marginTop:\"20px\",marginLeft:\"230px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",minWidth:\"200px\",height:\"auto\"}})))))))),W(N.a,null))))}}},[[\"d2kC\",0,1,2,3,5,4,6,9,8,10,11,13,14,15,16,7]]]);","extractedComments":[]}