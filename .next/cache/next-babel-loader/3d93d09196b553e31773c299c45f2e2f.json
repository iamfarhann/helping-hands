{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mahad/Local Disk/FYP-FE/helping-hands/common/src/components/HelpingHands/ReviewCard.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport react, { useEffect, useState } from \"react\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport { Box, Container, Typography, Grid, Paper, Avatar, Divider } from \"@material-ui/core\";\nimport Text from \"../Text\";\nimport { GET_PROJECT_REVIEWS } from \"../../../../lib/queries\";\nimport { CREATE_REVIEW } from \"../../../../lib/mutations\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport moment from \"moment\";\nimport Button from \"../../../../common/src/components/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useData, useDispatchUser } from \"../../../../lib/userData\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nexport default function ReviewCard(_ref) {\n  _s();\n\n  var _this = this;\n\n  var project = _ref.project;\n\n  var _useQuery = useQuery(GET_PROJECT_REVIEWS, {\n    variables: {\n      where: {\n        project: project ? project.id : \"\"\n      },\n      sort: \"createdAt:desc\",\n      start: 0,\n      limit: null\n    },\n    skip: !project,\n    fetchPolicy: \"cache-and-network\"\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      refetch = _useQuery.refetch;\n\n  var donor = useData();\n\n  var _useState = useState(false),\n      createLoading = _useState[0],\n      setCreateLoading = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      createError = _useState2[0],\n      setCreateError = _useState2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var _React$useState3 = React.useState(2),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      value = _React$useState4[0],\n      setValue = _React$useState4[1];\n\n  useEffect(function () {\n    if (data) {\n      console.log(data, \"Reviews\");\n      console.log(value, \"Rating\");\n    }\n  }, [data, value]);\n\n  var _useMutation = useMutation(CREATE_REVIEW, {\n    onCompleted: function onCompleted(data) {\n      console.log(data);\n      refetch();\n      handleClose(); // dispatch({\n      //   type: \"UPDATE\",\n      //   payload: data.updateOrganization.organization,\n      // });\n\n      setCreateError(\"Review Added succesfully!\");\n      setCreateLoading(false);\n      handleReset();\n    },\n    onError: function onError(error) {\n      console.log(error);\n      setCreateError(\"Sorry an error occurred. Please try again!\");\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createReview = _useMutation2[0];\n\n  var schemas = [{\n    review: Yup.string().required(\"Please enter a review\"),\n    rating: Yup.number().required(\"Please enter rating\")\n  }];\n\n  var _useFormik = useFormik({\n    initialValues: {\n      review: \"\",\n      rating: 0\n    },\n    onSubmit: function onSubmit(values) {\n      console.log(\"Review On Submit\");\n      console.log(values);\n      setCreateLoading(true);\n      setCreateError(null);\n      createReview({\n        variables: {\n          fields: {\n            data: {\n              donor: donor.id,\n              project: project.id,\n              rating: values.rating,\n              review: values.review\n            }\n          }\n        }\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0])\n  }),\n      handleBlur = _useFormik.handleBlur,\n      handleChange = _useFormik.handleChange,\n      handleSubmit = _useFormik.handleSubmit,\n      handleReset = _useFormik.handleReset,\n      values = _useFormik.values,\n      touched = _useFormik.touched,\n      errors = _useFormik.errors,\n      setFieldValue = _useFormik.setFieldValue;\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    style: {\n      overflow: \"auto\",\n      maxHeight: \"600px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, data ? data.reviews.map(function (review) {\n    return __jsx(Box, {\n      p: 2,\n      mb: 2,\n      borderLeft: 5,\n      borderBottom: 0.5,\n      borderRadius: 4,\n      borderColor: \"#3E2672\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, __jsx(Grid, {\n      container: true,\n      alignItems: \"center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, __jsx(Grid, {\n      item: true,\n      md: 2,\n      style: {\n        marginRight: \"10px\",\n        marginBottom: \"10px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 19\n      }\n    }, __jsx(Avatar, {\n      alt: review.donor.fullName,\n      src: review.donor.profilePicture ? \"\".concat(process.env.PLAIN_URL).concat(review.donor.profilePicture.url) : null,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    })), __jsx(Grid, {\n      item: true,\n      md: 8,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, __jsx(Typography, {\n      variant: \"body 1\",\n      style: {\n        fontWeight: \"bold\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, review.donor.fullName, \" \", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 47\n      }\n    })), __jsx(Rating, {\n      name: \"read-only\",\n      size: \"small\",\n      value: review.rating,\n      readOnly: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    })), __jsx(Grid, {\n      item: true,\n      md: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, __jsx(MoreVertIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    })), __jsx(Grid, {\n      item: true,\n      md: 12,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, __jsx(Text, {\n      color: \"#060F1E\",\n      content: review.review,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 21\n      }\n    }))));\n  }) : __jsx(React.Fragment, null, __jsx(Box, {\n    p: 2,\n    m: 2,\n    borderLeft: 5,\n    borderBottom: 0.5,\n    borderRadius: 4,\n    borderColor: \"#3E2672\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 2,\n    style: {\n      marginRight: \"10px\",\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    variant: \"circle\",\n    width: 40,\n    height: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 10,\n    width: \"80%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 10,\n    width: \"40%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, __jsx(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"40%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  })))), __jsx(Box, {\n    p: 2,\n    m: 2,\n    borderLeft: 5,\n    borderBottom: 0.5,\n    borderRadius: 4,\n    borderColor: \"#3E2672\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 2,\n    style: {\n      marginRight: \"10px\",\n      marginBottom: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    variant: \"circle\",\n    width: 40,\n    height: 40,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 10,\n    width: \"80%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 10,\n    width: \"40%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 17\n    }\n  }, __jsx(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 19\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 17\n    }\n  }, __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 19\n    }\n  }), __jsx(Skeleton, {\n    animation: \"wave\",\n    height: 20,\n    width: \"70%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 19\n    }\n  }))))) //else\n  ), donor[\"id\"] ? donor.user.role.name == \"Donor\" ? __jsx(Box, {\n    display: \"flex\",\n    justifyContent: \"center\",\n    p: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    title: \"Write a Review\",\n    onClick: handleClickOpen,\n    style: {\n      marginTop: \"18px\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"auto\",\n      height: \"auto\",\n      border: \"0\",\n      fontSize: \"15px\",\n      fontWeight: \"700\",\n      borderRadius: \"30px\",\n      cursor: \"pointer\",\n      color: \"#FFFFFF\",\n      backgroundColor: \"#05B890\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      zIndex: \"1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }), __jsx(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, __jsx(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }, \"Project Review\"), __jsx(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 15\n    }\n  }, __jsx(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, \"Let others know what are your thoughts on this project!\"), __jsx(Rating, {\n    name: \"rating\",\n    value: values.rating,\n    onChange: function onChange(event, newValue) {\n      setFieldValue(\"rating\", newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }), __jsx(TextField, {\n    autoFocus: true,\n    name: \"review\",\n    value: values.review,\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.review && touched.review,\n    helperText: errors.review && touched.review ? errors.review : null,\n    id: \"name\",\n    label: \"Review\",\n    type: \"review\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }\n  })), __jsx(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    onClick: handleClose,\n    title: \"Cancel\",\n    variant: \"extendedFab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 17\n    }\n  }), __jsx(Button, {\n    title: \"Submit\",\n    variant: \"extendedFab\",\n    onClick: handleSubmit,\n    disabled: createLoading,\n    isLoading: createLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 17\n    }\n  })))) : null : null);\n}\n\n_s(ReviewCard, \"9IukTtSwc4PeVP8AXilXN3SXQbs=\", false, function () {\n  return [useQuery, useData, useMutation, useFormik];\n});\n\n_c = ReviewCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ReviewCard\");","map":{"version":3,"sources":["/Users/mahad/Local Disk/FYP-FE/helping-hands/common/src/components/HelpingHands/ReviewCard.js"],"names":["react","useEffect","useState","MoreVertIcon","Rating","Box","Container","Typography","Grid","Paper","Avatar","Divider","Text","GET_PROJECT_REVIEWS","CREATE_REVIEW","useQuery","useMutation","moment","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useFormik","Yup","useData","useDispatchUser","Skeleton","ReviewCard","project","variables","where","id","sort","start","limit","skip","fetchPolicy","data","loading","error","refetch","donor","createLoading","setCreateLoading","createError","setCreateError","React","open","setOpen","handleClickOpen","handleClose","value","setValue","console","log","onCompleted","handleReset","onError","createReview","schemas","review","string","required","rating","number","initialValues","onSubmit","values","fields","validationSchema","object","shape","handleBlur","handleChange","handleSubmit","touched","errors","setFieldValue","overflow","maxHeight","reviews","map","marginRight","marginBottom","fullName","profilePicture","process","env","PLAIN_URL","url","fontWeight","user","role","name","marginTop","alignItems","justifyContent","minWidth","height","border","fontSize","borderRadius","cursor","color","backgroundColor","position","zIndex","event","newValue"],"mappings":"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","sourcesContent":["import react, { useEffect, useState } from \"react\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport {\n  Box,\n  Container,\n  Typography,\n  Grid,\n  Paper,\n  Avatar,\n  Divider,\n} from \"@material-ui/core\";\nimport Text from \"../Text\";\nimport { GET_PROJECT_REVIEWS } from \"../../../../lib/queries\";\nimport { CREATE_REVIEW } from \"../../../../lib/mutations\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport moment from \"moment\";\nimport Button from \"../../../../common/src/components/Button\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { useData, useDispatchUser } from \"../../../../lib/userData\";\n\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nexport default function ReviewCard({ project }) {\n  const { data, loading, error, refetch } = useQuery(GET_PROJECT_REVIEWS, {\n    variables: {\n      where: { project: project ? project.id : \"\" },\n      sort: \"createdAt:desc\",\n      start: 0,\n      limit: null,\n    },\n    skip: !project,\n    fetchPolicy: \"cache-and-network\",\n  });\n  const donor = useData();\n\n  const [createLoading, setCreateLoading] = useState(false);\n  const [createError, setCreateError] = useState(\"\");\n\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const [value, setValue] = React.useState(2);\n  useEffect(() => {\n    if (data) {\n      console.log(data, \"Reviews\");\n      console.log(value, \"Rating\");\n    }\n  }, [data, value]);\n\n  const [createReview] = useMutation(CREATE_REVIEW, {\n    onCompleted: (data) => {\n      console.log(data);\n      refetch();\n      handleClose();\n      // dispatch({\n      //   type: \"UPDATE\",\n      //   payload: data.updateOrganization.organization,\n      // });\n      setCreateError(\"Review Added succesfully!\");\n      setCreateLoading(false);\n\n      handleReset();\n    },\n    onError: (error) => {\n      console.log(error);\n      setCreateError(\"Sorry an error occurred. Please try again!\");\n    },\n  });\n  const schemas = [\n    {\n      review: Yup.string().required(\"Please enter a review\"),\n      rating: Yup.number().required(\"Please enter rating\"),\n    },\n  ];\n\n  const {\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    handleReset,\n    values,\n    touched,\n    errors,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      review: \"\",\n      rating: 0,\n    },\n    onSubmit: (values) => {\n      console.log(\"Review On Submit\");\n      console.log(values);\n      setCreateLoading(true);\n      setCreateError(null);\n      createReview({\n        variables: {\n          fields: {\n            data: {\n              donor: donor.id,\n              project: project.id,\n              rating: values.rating,\n              review: values.review,\n            },\n          },\n        },\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0]),\n  });\n  return (\n    <div>\n      <div style={{ overflow: \"auto\", maxHeight: \"600px\" }}>\n        {data ? (\n          data.reviews.map((review) => {\n            return (\n              <Box\n                p={2}\n                mb={2}\n                borderLeft={5}\n                borderBottom={0.5}\n                borderRadius={4}\n                borderColor=\"#3E2672\"\n              >\n                <Grid container alignItems=\"center\">\n                  <Grid\n                    item\n                    md={2}\n                    style={{ marginRight: \"10px\", marginBottom: \"10px\" }}\n                  >\n                    <Avatar\n                      alt={review.donor.fullName}\n                      src={\n                        review.donor.profilePicture\n                          ? `${process.env.PLAIN_URL}${review.donor.profilePicture.url}`\n                          : null\n                      }\n                    />\n                  </Grid>\n                  <Grid item md={8}>\n                    <Typography variant=\"body 1\" style={{ fontWeight: \"bold\" }}>\n                      {review.donor.fullName} <br />\n                    </Typography>\n                    <Rating\n                      name=\"read-only\"\n                      size=\"small\"\n                      value={review.rating}\n                      readOnly\n                    />\n                  </Grid>\n                  <Grid item md={1}>\n                    <MoreVertIcon />\n                  </Grid>\n                  <Grid item md={12}>\n                    <Text color=\"#060F1E\" content={review.review} />\n                  </Grid>\n                </Grid>\n              </Box>\n            );\n          })\n        ) : (\n          <>\n            <Box\n              p={2}\n              m={2}\n              borderLeft={5}\n              borderBottom={0.5}\n              borderRadius={4}\n              borderColor=\"#3E2672\"\n            >\n              <Grid container alignItems=\"center\">\n                <Grid\n                  item\n                  md={2}\n                  style={{ marginRight: \"10px\", marginBottom: \"10px\" }}\n                >\n                  <Skeleton\n                    animation=\"wave\"\n                    variant=\"circle\"\n                    width={40}\n                    height={40}\n                  />\n                </Grid>\n                <Grid item md={8}>\n                  <Skeleton animation=\"wave\" height={10} width=\"80%\" />\n\n                  <Skeleton animation=\"wave\" height={10} width=\"40%\" />\n                </Grid>\n                <Grid item md={1}>\n                  <MoreVertIcon />\n                </Grid>\n                <Grid item md={12}>\n                  <Skeleton animation=\"wave\" height={20} width=\"100%\" />\n                  <Skeleton animation=\"wave\" height={20} width=\"100%\" />\n                  <Skeleton animation=\"wave\" height={20} width=\"40%\" />\n                </Grid>\n              </Grid>\n            </Box>\n            <Box\n              p={2}\n              m={2}\n              borderLeft={5}\n              borderBottom={0.5}\n              borderRadius={4}\n              borderColor=\"#3E2672\"\n            >\n              <Grid container alignItems=\"center\">\n                <Grid\n                  item\n                  md={2}\n                  style={{ marginRight: \"10px\", marginBottom: \"10px\" }}\n                >\n                  <Skeleton\n                    animation=\"wave\"\n                    variant=\"circle\"\n                    width={40}\n                    height={40}\n                  />\n                </Grid>\n                <Grid item md={8}>\n                  <Skeleton animation=\"wave\" height={10} width=\"80%\" />\n\n                  <Skeleton animation=\"wave\" height={10} width=\"40%\" />\n                </Grid>\n                <Grid item md={1}>\n                  <MoreVertIcon />\n                </Grid>\n                <Grid item md={12}>\n                  <Skeleton animation=\"wave\" height={20} width=\"100%\" />\n                  <Skeleton animation=\"wave\" height={20} width=\"100%\" />\n                  <Skeleton animation=\"wave\" height={20} width=\"70%\" />\n                </Grid>\n              </Grid>\n            </Box>\n          </>\n        )\n        //else\n        }\n      </div>\n\n      {donor[\"id\"] ? (\n        donor.user.role.name == \"Donor\" ? (\n          <Box display=\"flex\" justifyContent=\"center\" p={2}>\n            <Button\n              title=\"Write a Review\"\n              onClick={handleClickOpen}\n              style={{\n                marginTop: \"18px\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                minWidth: \"auto\",\n                height: \"auto\",\n                border: \"0\",\n                fontSize: \"15px\",\n                fontWeight: \"700\",\n                borderRadius: \"30px\",\n                cursor: \"pointer\",\n                color: \"#FFFFFF\",\n                backgroundColor: \"#05B890\",\n                position: \"relative\",\n                overflow: \"hidden\",\n                zIndex: \"1\",\n              }}\n            />\n            <Dialog\n              open={open}\n              onClose={handleClose}\n              aria-labelledby=\"form-dialog-title\"\n            >\n              <DialogTitle id=\"form-dialog-title\">Project Review</DialogTitle>\n              <DialogContent>\n                <DialogContentText>\n                  Let others know what are your thoughts on this project!\n                </DialogContentText>\n                <Rating\n                  name=\"rating\"\n                  value={values.rating}\n                  onChange={(event, newValue) => {\n                    setFieldValue(\"rating\", newValue);\n                  }}\n                />\n                <TextField\n                  autoFocus\n                  name=\"review\"\n                  value={values.review}\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  error={errors.review && touched.review}\n                  helperText={\n                    errors.review && touched.review ? errors.review : null\n                  }\n                  id=\"name\"\n                  label=\"Review\"\n                  type=\"review\"\n                  fullWidth\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  title=\"Cancel\"\n                  variant=\"extendedFab\"\n                />\n                <Button\n                  title=\"Submit\"\n                  variant=\"extendedFab\"\n                  onClick={handleSubmit}\n                  disabled={createLoading}\n                  isLoading={createLoading}\n                />\n              </DialogActions>\n            </Dialog>\n          </Box>\n        ) : null\n      ) : null}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}