{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/signin.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Fragment } from \"react\";\nimport { useState } from \"react\";\nimport Text from \"../common/src/components/Text\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport { GlobalStyle, CharityWrapper, ContentWrapper } from \"../containers/Charity/charity.style\";\nimport { Container, Grid, Paper, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN, REGISTER } from \"../lib/mutations\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: \"100%\",\n      maxWidth: 360,\n      backgroundColor: theme.palette.background.paper\n    }\n  };\n});\nexport default function signup() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(\"\"),\n      formValues = _useState[0],\n      setFormValues = _useState[1];\n\n  var _useState2 = useState(false),\n      loginLoading = _useState2[0],\n      setLoginLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      loginError = _useState3[0],\n      setLoginError = _useState3[1];\n\n  var _useMutation = useMutation(REGISTER, {\n    onCompleted: function onCompleted(data) {\n      console.log(data);\n    },\n    onError: function onError(_ref) {\n      var graphQLErrors = _ref.graphQLErrors,\n          networkError = _ref.networkError;\n      console.log(\"Register Error\");\n      setLoginError(\"User already exists\");\n      setLoginLoading(false);\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      registerUser = _useMutation2[0];\n\n  var _useMutation3 = useMutation(LOGIN, {\n    onCompleted: function onCompleted(data) {\n      console.log(data, \"donor\");\n      router.push(\"/\");\n    },\n    onError: function onError(_ref2) {\n      var networkError = _ref2.networkError,\n          graphQLErrors = _ref2.graphQLErrors;\n      // console.log(networkError.result, graphQLErrors, \"Donor Signup\");\n      setLoginError(\"Login Error! Please try again.\");\n      setLoginLoading(false);\n    }\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      login = _useMutation4[0];\n\n  var schemas = [{\n    email: Yup.string().email(\"Email not valid\").required(\"Please Enter Your Email\"),\n    password: Yup.string().required(\"Please Enter Password\")\n  }];\n\n  var _useFormik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      console.log(values);\n      setLoginLoading(true);\n      setLoginError(null);\n      setFormValues(values);\n      login({\n        variables: {\n          fields: {\n            identifier: values.email,\n            password: values.password\n          }\n        }\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0])\n  }),\n      handleBlur = _useFormik.handleBlur,\n      handleChange = _useFormik.handleChange,\n      handleSubmit = _useFormik.handleSubmit,\n      handleReset = _useFormik.handleReset,\n      values = _useFormik.values,\n      touched = _useFormik.touched,\n      errors = _useFormik.errors,\n      setFieldValue = _useFormik.setFieldValue;\n\n  var handleFormData = function handleFormData(value, name) {\n    setState(_objectSpread(_objectSpread({}, state), {}, _defineProperty({}, name, value)));\n  };\n\n  var handleDonation = function handleDonation(e) {\n    e.preventDefault();\n    console.log(\"Donation form data: \", state);\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      price: \"\"\n    }));\n  };\n\n  return __jsx(ThemeProvider, {\n    theme: charityTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, \"Sign in to esaar\"), __jsx(\"meta\", {\n    name: \"Description\",\n    content: \"React next landing page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#FCF22B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })), __jsx(ResetCSS, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), __jsx(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), __jsx(CharityWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, __jsx(Sticky, {\n    top: 0,\n    innerZ: 9999,\n    activeClass: \"sticky-nav-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  })), __jsx(DrawerProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, __jsx(DrawerSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  })), __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    container: true,\n    style: {\n      maxWidth: \"1170px\",\n      minHeight: \"100vh\",\n      paddingTop: \"140px\",\n      marginLeft: \"170px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }), __jsx(Grid, {\n    item: true,\n    md: 8,\n    style: {\n      marginLeft: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"75vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, __jsx(Container, {\n    style: {\n      padding: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, \" \", __jsx(Heading, {\n    content: \"Sign In\",\n    color: \"#05B890\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }), \" \", __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 67\n    }\n  }), __jsx(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 5,\n    style: {\n      marginTop: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 23\n    }\n  }, __jsx(Heading, {\n    content: \"Email ID\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    id: \"outlined-basic\",\n    label: \"\",\n    type: \"email\",\n    name: \"email\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.email && touched.email,\n    helperText: errors.email && touched.email ? errors.email : null,\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Password\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    label: \"\",\n    name: \"password\",\n    onChange: handleChange,\n    type: \"password\",\n    value: values.password,\n    onBlur: handleBlur,\n    fullWidth: true,\n    error: errors.password && touched.password,\n    helperText: errors.password && touched.password ? errors.password : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      alignContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 23\n    }\n  }, loginError ? __jsx(Text, {\n    content: loginError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 39\n    }\n  }) : null), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      alignContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 23\n    }\n  }, __jsx(Button, {\n    title: \"Sign-in\",\n    variant: \"extendedFab\",\n    onClick: handleSubmit,\n    disabled: loginLoading,\n    isLoading: loginLoading,\n    style: {\n      marginTop: \"20px\",\n      marginLeft: \"230px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"200px\",\n      height: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 23\n    }\n  }, __jsx(\"a\", {\n    href: \"/signup_o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 25\n    }\n  }, \"Forgot Password?\")))))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  }))));\n}\n\n_s(signup, \"7EauVfCDVK/ppyQ/Si8ANVrejzE=\", false, function () {\n  return [useRouter, useMutation, useMutation, useFormik];\n});","map":{"version":3,"sources":["/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/signin.js"],"names":["React","Fragment","useState","Text","useRouter","Head","Sticky","ThemeProvider","charityTheme","ResetCSS","DrawerProvider","Navbar","DrawerSection","Footer","GlobalStyle","CharityWrapper","ContentWrapper","Container","Grid","Paper","Divider","makeStyles","Button","Heading","TextField","useFormik","Yup","useQuery","useMutation","LOGIN","REGISTER","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","signup","router","formValues","setFormValues","loginLoading","setLoginLoading","loginError","setLoginError","onCompleted","data","console","log","onError","graphQLErrors","networkError","registerUser","push","login","schemas","email","string","required","password","initialValues","onSubmit","values","variables","fields","identifier","validationSchema","object","shape","handleBlur","handleChange","handleSubmit","handleReset","touched","errors","setFieldValue","handleFormData","value","name","setState","state","handleDonation","e","preventDefault","price","minHeight","paddingTop","marginLeft","height","padding","marginTop","color","alignContent","display","alignItems","justifyContent","minWidth"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { useState } from \"react\";\nimport Text from \"../common/src/components/Text\";\nimport { useRouter } from \"next/router\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport {\n  GlobalStyle,\n  CharityWrapper,\n  ContentWrapper,\n} from \"../containers/Charity/charity.style\";\nimport { Container, Grid, Paper, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { LOGIN, REGISTER } from \"../lib/mutations\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function signup() {\n  const router = useRouter();\n  const [formValues, setFormValues] = useState(\"\");\n  const [loginLoading, setLoginLoading] = useState(false);\n  const [loginError, setLoginError] = useState(null);\n\n  const [registerUser] = useMutation(REGISTER, {\n    onCompleted: (data) => {\n      console.log(data);\n    },\n    onError: ({ graphQLErrors, networkError }) => {\n      console.log(\"Register Error\");\n      setLoginError(\"User already exists\");\n      setLoginLoading(false);\n    },\n  });\n\n  const [login] = useMutation(LOGIN, {\n    onCompleted: (data) => {\n      console.log(data, \"donor\");\n      router.push(\"/\");\n    },\n    onError: ({ networkError, graphQLErrors }) => {\n      // console.log(networkError.result, graphQLErrors, \"Donor Signup\");\n      setLoginError(\"Login Error! Please try again.\");\n      setLoginLoading(false);\n    },\n  });\n  const schemas = [\n    {\n      email: Yup.string()\n        .email(\"Email not valid\")\n        .required(\"Please Enter Your Email\"),\n      password: Yup.string().required(\"Please Enter Password\"),\n    },\n  ];\n  const {\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    handleReset,\n    values,\n    touched,\n    errors,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      email: \"\",\n\n      password: \"\",\n    },\n    onSubmit: (values) => {\n      console.log(values);\n      setLoginLoading(true);\n      setLoginError(null);\n      setFormValues(values);\n      login({\n        variables: {\n          fields: {\n            identifier: values.email,\n            password: values.password,\n          },\n        },\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0]),\n  });\n\n  const handleFormData = (value, name) => {\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleDonation = (e) => {\n    e.preventDefault();\n    console.log(\"Donation form data: \", state);\n\n    setState({\n      ...state,\n      price: \"\",\n    });\n  };\n\n  return (\n    <ThemeProvider theme={charityTheme}>\n      <Fragment>\n        {/* Start charity head section */}\n        <Head>\n          <title>Sign in to esaar</title>\n          <meta name=\"Description\" content=\"React next landing page\" />\n          <meta name=\"theme-color\" content=\"#FCF22B\" />\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1.0\"\n          />\n          {/* Load google fonts */}\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\"\n            rel=\"stylesheet\"\n          />\n        </Head>\n        <ResetCSS />\n        <GlobalStyle />\n        <CharityWrapper>\n          <Sticky top={0} innerZ={9999} activeClass=\"sticky-nav-active\">\n            <Navbar />\n          </Sticky>\n          <DrawerProvider>\n            <DrawerSection />\n          </DrawerProvider>\n          <ContentWrapper>\n            <Grid\n              container\n              style={{\n                maxWidth: \"1170px\",\n                minHeight: \"100vh\",\n                paddingTop: \"140px\",\n                marginLeft: \"170px\",\n              }}\n            >\n              <Grid item md={2}></Grid>\n              <Grid item md={8} style={{ marginLeft: \"30px\" }}>\n                <Paper style={{ height: \"75vh\" }}>\n                  <Container style={{ padding: \"40px\" }}>\n                    {\" \"}\n                    <Heading content=\"Sign In\" color=\"#05B890\" /> <Divider />\n                    <Grid container>\n                      <Grid item md={5} style={{ marginTop: \"30px\" }}>\n                        <Heading\n                          content=\"Email ID\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          id=\"outlined-basic\"\n                          label=\"\"\n                          type=\"email\"\n                          name=\"email\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.email && touched.email}\n                          helperText={\n                            errors.email && touched.email ? errors.email : null\n                          }\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Password\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          label=\"\"\n                          name=\"password\"\n                          onChange={handleChange}\n                          type=\"password\"\n                          value={values.password}\n                          onBlur={handleBlur}\n                          fullWidth\n                          error={errors.password && touched.password}\n                          helperText={\n                            errors.password && touched.password\n                              ? errors.password\n                              : null\n                          }\n                        />\n                      </Grid>\n\n                      <Grid\n                        container\n                        item\n                        md={12}\n                        style={{\n                          alignContent: \"center\",\n                        }}\n                      >\n                        {loginError ? <Text content={loginError} /> : null}\n                      </Grid>\n\n                      <Grid\n                        container\n                        item\n                        md={12}\n                        style={{\n                          alignContent: \"center\",\n                        }}\n                      >\n                        <Button\n                          title=\"Sign-in\"\n                          variant=\"extendedFab\"\n                          onClick={handleSubmit}\n                          disabled={loginLoading}\n                          isLoading={loginLoading}\n                          style={{\n                            marginTop: \"20px\",\n                            marginLeft: \"230px\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            minWidth: \"200px\",\n                            height: \"auto\",\n                          }}\n                        />\n                      </Grid>\n                      <Grid container item md={12}>\n                        <a href=\"/signup_o\">Forgot Password?</a>\n                      </Grid>\n                    </Grid>\n                  </Container>\n                </Paper>\n              </Grid>\n            </Grid>\n          </ContentWrapper>\n          <Footer />\n        </CharityWrapper>\n        {/* End of charity wrapper section */}\n      </Fragment>\n    </ThemeProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}