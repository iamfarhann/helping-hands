{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/signup_o.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Fragment } from \"react\";\nimport { useState } from \"react\";\nimport Image from \"../common/src/components/Image\";\nvar heartImage = \"/image/charity/heart-alt.svg\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport { GlobalStyle, CharityWrapper, ContentWrapper } from \"../containers/Charity/charity.style\";\nimport { Box, Container, Typography, Grid, Paper, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport Axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_ORGANIZATION, REGISTER } from \"../lib/mutations\";\nexport default _s(function () {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(\"\"),\n      formValues = _useState[0],\n      setFormValues = _useState[1];\n\n  var _useState2 = useState(false),\n      loginLoading = _useState2[0],\n      setLoginLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      loginError = _useState3[0],\n      setLoginError = _useState3[1];\n\n  var _useState4 = useState([]),\n      filedIds = _useState4[0],\n      setFileIDs = _useState4[1];\n\n  var _useMutation = useMutation(REGISTER, {\n    onCompleted: function onCompleted(data) {\n      console.log(data);\n      router.push(\"/signin\");\n    },\n    onError: function onError(_ref) {\n      var graphQLErrors = _ref.graphQLErrors,\n          networkError = _ref.networkError;\n      console.log(\"Register Error\");\n      setLoginError(\"User already exists\");\n      setLoginLoading(false);\n    }\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      registerUser = _useMutation2[0];\n\n  var _useMutation3 = useMutation(CREATE_ORGANIZATION, {\n    onCompleted: function onCompleted(data) {\n      console.log(data, \"Organization\");\n      registerUser({\n        variables: {\n          fields: {\n            data: {\n              organization: data.createOrganization.organization.id,\n              username: formValues.email.split(\"@\")[0],\n              email: formValues.email,\n              password: formValues.password,\n              confirmed: true,\n              isDonor: false\n            }\n          }\n        }\n      });\n    },\n    onError: function onError(_ref2) {\n      var networkError = _ref2.networkError,\n          graphQLErrors = _ref2.graphQLErrors;\n      console.log(networkError.result, graphQLErrors, \"Donor Signup\");\n      setLoginError(\"Sorry, an error occured, try again\");\n      setLoginLoading(false);\n    }\n  }),\n      _useMutation4 = _slicedToArray(_useMutation3, 1),\n      createOrganization = _useMutation4[0];\n\n  var schemas = [{\n    email: Yup.string().email(\"Email not valid\").required(\"Please Enter Your Email\"),\n    orgName: Yup.string().required(\"Please Enter Organization Name\"),\n    address: Yup.string().required(\"Please Enter Organization Address\"),\n    regNumber: Yup.string().required(\"Please Enter Registration Number\"),\n    password: Yup.string().required(\"Please Enter Password\"),\n    fullName: Yup.string().required(\"Please Enter Full Name\"),\n    mobileNumber: Yup.string().required(\"Please Enter Your Mobile Number\"),\n    confirmPassword: Yup.string().oneOf([Yup.ref(\"password\"), null], \"Passwords must match\").required(\"Pleaser confirm password\")\n  }];\n\n  var _useFormik = useFormik({\n    initialValues: {\n      orgName: \"\",\n      regNumber: \"\",\n      address: \"\",\n      fullName: \"\",\n      email: \"\",\n      mobileNumber: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    },\n    onSubmit: function onSubmit(values) {\n      console.log(values);\n      setLoginLoading(true);\n      setLoginError(null);\n      setFormValues(values);\n      createOrganization({\n        variables: {\n          fields: {\n            data: {\n              organizationName: values.orgName,\n              focalPerson: values.fullName,\n              registrationNumber: values.regNumber,\n              mobileNumber: values.mobileNumber\n            }\n          }\n        }\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0])\n  }),\n      handleBlur = _useFormik.handleBlur,\n      handleChange = _useFormik.handleChange,\n      handleSubmit = _useFormik.handleSubmit,\n      handleReset = _useFormik.handleReset,\n      values = _useFormik.values,\n      touched = _useFormik.touched,\n      errors = _useFormik.errors,\n      setFieldValue = _useFormik.setFieldValue;\n\n  var handlefiles = function handlefiles(files) {\n    var form = new FormData();\n    files.forEach(function (file) {\n      form.append(\"files\", file);\n    });\n    axios.post(\"http://localhost:1337/upload\", form, {\n      headers: {\n        \"Content-type\": \"multipart/form-data\"\n      }\n    }).then(function (res) {});\n  };\n\n  return __jsx(ThemeProvider, {\n    theme: charityTheme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, __jsx(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, \"Register your organization | Esaar\"), __jsx(\"meta\", {\n    name: \"Description\",\n    content: \"React next landing page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#FCF22B\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",\n    rel: \"stylesheet\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  })), __jsx(ResetCSS, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }), __jsx(GlobalStyle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }), __jsx(CharityWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, __jsx(Sticky, {\n    top: 0,\n    innerZ: 9999,\n    activeClass: \"sticky-nav-active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, __jsx(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  })), __jsx(DrawerProvider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, __jsx(DrawerSection, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  })), __jsx(ContentWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    container: true,\n    style: {\n      maxWidth: \"1170px\",\n      minHeight: \"100vh\",\n      paddingTop: \"140px\",\n      marginLeft: \"170px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }), __jsx(Grid, {\n    item: true,\n    md: 8,\n    style: {\n      marginLeft: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"170vh\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, __jsx(Container, {\n    style: {\n      padding: \"40px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, \" \", __jsx(Heading, {\n    content: \"Register your organization\",\n    color: \"#05B890\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }), \" \", __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 21\n    }\n  }), __jsx(Grid, {\n    container: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 5,\n    style: {\n      marginTop: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 23\n    }\n  }, __jsx(Heading, {\n    content: \"Organization Name\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"orgName\",\n    id: \"outlined-basic\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.orgName && touched.orgName,\n    helperText: errors.orgName && touched.orgName ? errors.orgName : null,\n    label: \"\",\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Focal Person\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"fullName\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.fullName && touched.fullName,\n    helperText: errors.fullName && touched.fullName ? errors.fullName : null,\n    label: \"\",\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Email ID\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    id: \"outlined-basic\",\n    label: \"\",\n    type: \"email\",\n    name: \"email\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.email && touched.email,\n    helperText: errors.email && touched.email ? errors.email : null,\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Password\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    label: \"\",\n    name: \"password\",\n    onChange: handleChange,\n    type: \"password\",\n    value: values.password,\n    onBlur: handleBlur,\n    fullWidth: true,\n    error: errors.password && touched.password,\n    helperText: errors.password && touched.password ? errors.password : null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 25\n    }\n  })), __jsx(Grid, {\n    item: true,\n    md: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 23\n    }\n  }), __jsx(Grid, {\n    item: true,\n    md: 5,\n    style: {\n      marginTop: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 23\n    }\n  }, __jsx(Heading, {\n    content: \"Registration Number\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"regNumber\",\n    id: \"outlined-basic\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.regNumber && touched.regNumber,\n    helperText: errors.regNumber && touched.regNumber ? errors.regNumber : null,\n    label: \"\",\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Contact Number\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    id: \"outlined-basic\",\n    name: \"mobileNumber\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.mobileNumber && touched.mobileNumber,\n    helperText: errors.mobileNumber && touched.mobileNumber ? errors.mobileNumber : null,\n    label: \"\",\n    size: \"small\",\n    style: {\n      color: \"#05B890\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Address\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"address\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.address && touched.address,\n    helperText: errors.address && touched.address ? errors.address : null,\n    label: \"\",\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 25\n    }\n  }), __jsx(Heading, {\n    content: \"Confirm Password\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 25\n    }\n  }), \" \", __jsx(TextField, {\n    label: \"\",\n    name: \"confirmPassword\",\n    onChange: handleChange,\n    type: \"password\",\n    value: values.confirmPassword,\n    onBlur: handleBlur,\n    fullWidth: true,\n    error: errors.confirmPassword && touched.confirmPassword,\n    helperText: errors.confirmPassword && touched.confirmPassword ? errors.confirmPassword : null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 25\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    md: 12,\n    style: {\n      marginTop: \"30px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 21\n    }\n  }, __jsx(Heading, {\n    content: \"Documents\",\n    color: \"#05B890\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 23\n    }\n  }), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 23\n    }\n  }), __jsx(Heading, {\n    content: \"Registration Certificate\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 23\n    }\n  }), __jsx(DropzoneArea, {\n    acceptedFiles: [\"image/*\"],\n    dropzoneText: \"Drag and drop images here or click\",\n    onChange: function onChange(files) {\n      return console.log(\"Files:\", files);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 23\n    }\n  }), __jsx(Heading, {\n    content: \"Tax Exemption Form\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 23\n    }\n  }), __jsx(DropzoneArea, {\n    acceptedFiles: [\"image/*\"],\n    dropzoneText: \"Drag and drop images here or click\",\n    onChange: function onChange(files) {\n      return console.log(\"Files:\", files);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 23\n    }\n  }), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      alignContent: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 23\n    }\n  }, loginError ? __jsx(Text, {\n    content: loginError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 39\n    }\n  }) : null), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      alignContent: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 23\n    }\n  }, __jsx(Button, {\n    title: \"Create Account\",\n    variant: \"extendedFab\",\n    onClick: handleSubmit,\n    disabled: loginLoading,\n    isLoading: loginLoading,\n    style: {\n      marginTop: \"20px\",\n      marginLeft: \"230px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"200px\",\n      height: \"auto\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 25\n    }\n  })))))))), __jsx(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 11\n    }\n  }))));\n}, \"YsDrgzqh7iXtPYljY5IXoOU9M6w=\", false, function () {\n  return [useRouter, useMutation, useMutation, useFormik];\n});","map":{"version":3,"sources":["/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/signup_o.js"],"names":["React","Fragment","useState","Image","heartImage","Head","Sticky","ThemeProvider","charityTheme","ResetCSS","DrawerProvider","Navbar","DrawerSection","Footer","GlobalStyle","CharityWrapper","ContentWrapper","Box","Container","Typography","Grid","Paper","Divider","makeStyles","Button","Heading","TextField","DropzoneArea","Axios","useRouter","useFormik","Yup","useQuery","useMutation","CREATE_ORGANIZATION","REGISTER","router","formValues","setFormValues","loginLoading","setLoginLoading","loginError","setLoginError","filedIds","setFileIDs","onCompleted","data","console","log","push","onError","graphQLErrors","networkError","registerUser","variables","fields","organization","createOrganization","id","username","email","split","password","confirmed","isDonor","result","schemas","string","required","orgName","address","regNumber","fullName","mobileNumber","confirmPassword","oneOf","ref","initialValues","onSubmit","values","organizationName","focalPerson","registrationNumber","validationSchema","object","shape","handleBlur","handleChange","handleSubmit","handleReset","touched","errors","setFieldValue","handlefiles","files","form","FormData","forEach","file","append","axios","post","headers","then","res","maxWidth","minHeight","paddingTop","marginLeft","height","padding","marginTop","color","alignContent","display","alignItems","justifyContent","minWidth"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { useState } from \"react\";\nimport Image from \"../common/src/components/Image\";\nconst heartImage = \"/image/charity/heart-alt.svg\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport {\n  GlobalStyle,\n  CharityWrapper,\n  ContentWrapper,\n} from \"../containers/Charity/charity.style\";\nimport {\n  Box,\n  Container,\n  Typography,\n  Grid,\n  Paper,\n  Divider,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport Axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_ORGANIZATION, REGISTER } from \"../lib/mutations\";\n\nexport default () => {\n  const router = useRouter();\n  const [formValues, setFormValues] = useState(\"\");\n  const [loginLoading, setLoginLoading] = useState(false);\n  const [loginError, setLoginError] = useState(null);\n  const [filedIds, setFileIDs] = useState([]);\n\n  const [registerUser] = useMutation(REGISTER, {\n    onCompleted: (data) => {\n      console.log(data);\n      router.push(\"/signin\");\n    },\n    onError: ({ graphQLErrors, networkError }) => {\n      console.log(\"Register Error\");\n      setLoginError(\"User already exists\");\n      setLoginLoading(false);\n    },\n  });\n\n  const [createOrganization] = useMutation(CREATE_ORGANIZATION, {\n    onCompleted: (data) => {\n      console.log(data, \"Organization\");\n      registerUser({\n        variables: {\n          fields: {\n            data: {\n              organization: data.createOrganization.organization.id,\n              username: formValues.email.split(\"@\")[0],\n              email: formValues.email,\n              password: formValues.password,\n              confirmed: true,\n              isDonor: false,\n            },\n          },\n        },\n      });\n    },\n    onError: ({ networkError, graphQLErrors }) => {\n      console.log(networkError.result, graphQLErrors, \"Donor Signup\");\n      setLoginError(\"Sorry, an error occured, try again\");\n      setLoginLoading(false);\n    },\n  });\n  const schemas = [\n    {\n      email: Yup.string()\n        .email(\"Email not valid\")\n        .required(\"Please Enter Your Email\"),\n      orgName: Yup.string().required(\"Please Enter Organization Name\"),\n      address: Yup.string().required(\"Please Enter Organization Address\"),\n      regNumber: Yup.string().required(\"Please Enter Registration Number\"),\n      password: Yup.string().required(\"Please Enter Password\"),\n      fullName: Yup.string().required(\"Please Enter Full Name\"),\n      mobileNumber: Yup.string().required(\"Please Enter Your Mobile Number\"),\n      confirmPassword: Yup.string()\n        .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n        .required(\"Pleaser confirm password\"),\n    },\n  ];\n  const {\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    handleReset,\n    values,\n    touched,\n    errors,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      orgName: \"\",\n      regNumber: \"\",\n      address: \"\",\n      fullName: \"\",\n      email: \"\",\n      mobileNumber: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n    onSubmit: (values) => {\n      console.log(values);\n      setLoginLoading(true);\n      setLoginError(null);\n      setFormValues(values);\n      createOrganization({\n        variables: {\n          fields: {\n            data: {\n              organizationName: values.orgName,\n              focalPerson: values.fullName,\n              registrationNumber: values.regNumber,\n              mobileNumber: values.mobileNumber,\n            },\n          },\n        },\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0]),\n  });\n\n  const handlefiles = (files) => {\n    const form = new FormData();\n    files.forEach((file) => {\n      form.append(\"files\", file);\n    });\n\n    axios\n      .post(\"http://localhost:1337/upload\", form, {\n        headers: {\n          \"Content-type\": \"multipart/form-data\",\n        },\n      })\n      .then((res) => {});\n  };\n  return (\n    <ThemeProvider theme={charityTheme}>\n      <Fragment>\n        <Head>\n          <title>Register your organization | Esaar</title>\n          <meta name=\"Description\" content=\"React next landing page\" />\n          <meta name=\"theme-color\" content=\"#FCF22B\" />\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1.0\"\n          />\n          {/* Load google fonts */}\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\"\n            rel=\"stylesheet\"\n          />\n        </Head>\n        <ResetCSS />\n        <GlobalStyle />\n        <CharityWrapper>\n          <Sticky top={0} innerZ={9999} activeClass=\"sticky-nav-active\">\n            <Navbar />\n          </Sticky>\n          <DrawerProvider>\n            <DrawerSection />\n          </DrawerProvider>\n          <ContentWrapper>\n            <Grid\n              container\n              style={{\n                maxWidth: \"1170px\",\n                minHeight: \"100vh\",\n                paddingTop: \"140px\",\n                marginLeft: \"170px\",\n              }}\n            >\n              <Grid item md={2}></Grid>\n              <Grid item md={8} style={{ marginLeft: \"30px\" }}>\n                <Paper style={{ height: \"170vh\" }}>\n                  <Container style={{ padding: \"40px\" }}>\n                    {\" \"}\n                    <Heading\n                      content=\"Register your organization\"\n                      color=\"#05B890\"\n                    />{\" \"}\n                    <Divider />\n                    <Grid container>\n                      <Grid item md={5} style={{ marginTop: \"30px\" }}>\n                        <Heading\n                          content=\"Organization Name\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          name=\"orgName\"\n                          id=\"outlined-basic\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.orgName && touched.orgName}\n                          helperText={\n                            errors.orgName && touched.orgName\n                              ? errors.orgName\n                              : null\n                          }\n                          label=\"\"\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Focal Person\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        <TextField\n                          name=\"fullName\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.fullName && touched.fullName}\n                          helperText={\n                            errors.fullName && touched.fullName\n                              ? errors.fullName\n                              : null\n                          }\n                          label=\"\"\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Email ID\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        <TextField\n                          id=\"outlined-basic\"\n                          label=\"\"\n                          type=\"email\"\n                          name=\"email\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.email && touched.email}\n                          helperText={\n                            errors.email && touched.email ? errors.email : null\n                          }\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Password\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        <TextField\n                          label=\"\"\n                          name=\"password\"\n                          onChange={handleChange}\n                          type=\"password\"\n                          value={values.password}\n                          onBlur={handleBlur}\n                          fullWidth\n                          error={errors.password && touched.password}\n                          helperText={\n                            errors.password && touched.password\n                              ? errors.password\n                              : null\n                          }\n                        />\n                      </Grid>\n                      <Grid item md={1} />\n                      <Grid item md={5} style={{ marginTop: \"30px\" }}>\n                        <Heading\n                          content=\"Registration Number\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          name=\"regNumber\"\n                          id=\"outlined-basic\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.regNumber && touched.regNumber}\n                          helperText={\n                            errors.regNumber && touched.regNumber\n                              ? errors.regNumber\n                              : null\n                          }\n                          label=\"\"\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Contact Number\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        <TextField\n                          id=\"outlined-basic\"\n                          name=\"mobileNumber\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.mobileNumber && touched.mobileNumber}\n                          helperText={\n                            errors.mobileNumber && touched.mobileNumber\n                              ? errors.mobileNumber\n                              : null\n                          }\n                          label=\"\"\n                          size=\"small\"\n                          style={{ color: \"#05B890\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Address\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          name=\"address\"\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          error={errors.address && touched.address}\n                          helperText={\n                            errors.address && touched.address\n                              ? errors.address\n                              : null\n                          }\n                          label=\"\"\n                          size=\"small\"\n                          style={{ color: \"#3E2672\" }}\n                          fullWidth\n                        />\n                        <Heading\n                          content=\"Confirm Password\"\n                          as=\"h4\"\n                          style={{ marginTop: \"1rem\" }}\n                        />{\" \"}\n                        {/* FIXME: Color of text fields */}\n                        <TextField\n                          label=\"\"\n                          name=\"confirmPassword\"\n                          onChange={handleChange}\n                          type=\"password\"\n                          value={values.confirmPassword}\n                          onBlur={handleBlur}\n                          fullWidth\n                          error={\n                            errors.confirmPassword && touched.confirmPassword\n                          }\n                          helperText={\n                            errors.confirmPassword && touched.confirmPassword\n                              ? errors.confirmPassword\n                              : null\n                          }\n                        />\n                      </Grid>\n                    </Grid>\n                    <Grid item md={12} style={{ marginTop: \"30px\" }}>\n                      <Heading content=\"Documents\" color=\"#05B890\" />\n                      <Divider />\n                      <Heading\n                        content=\"Registration Certificate\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />\n                      <DropzoneArea\n                        acceptedFiles={[\"image/*\"]}\n                        dropzoneText={\"Drag and drop images here or click\"}\n                        onChange={(files) => console.log(\"Files:\", files)}\n                      />\n                      <Heading\n                        content=\"Tax Exemption Form\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />\n                      <DropzoneArea\n                        acceptedFiles={[\"image/*\"]}\n                        dropzoneText={\"Drag and drop images here or click\"}\n                        onChange={(files) => console.log(\"Files:\", files)}\n                      />\n                      <Grid\n                        container\n                        item\n                        md={12}\n                        style={{\n                          alignContent: \"center\",\n                        }}\n                      >\n                        {loginError ? <Text content={loginError} /> : null}\n                      </Grid>\n\n                      <Grid\n                        container\n                        item\n                        md={12}\n                        style={{\n                          alignContent: \"center\",\n                        }}\n                      >\n                        <Button\n                          title=\"Create Account\"\n                          variant=\"extendedFab\"\n                          onClick={handleSubmit}\n                          disabled={loginLoading}\n                          isLoading={loginLoading}\n                          style={{\n                            marginTop: \"20px\",\n                            marginLeft: \"230px\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            minWidth: \"200px\",\n                            height: \"auto\",\n                          }}\n                        />\n                      </Grid>\n                    </Grid>\n                  </Container>\n                </Paper>\n              </Grid>\n            </Grid>\n          </ContentWrapper>\n          <Footer />\n        </CharityWrapper>\n        {/* End of charity wrapper section */}\n      </Fragment>\n    </ThemeProvider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}