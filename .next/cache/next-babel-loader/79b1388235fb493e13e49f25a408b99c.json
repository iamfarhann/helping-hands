{"ast":null,"code":"var _jsxFileName = \"/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/addProject.js\";\nvar __jsx = React.createElement;\nimport React, { Fragment } from \"react\";\nimport Text from \"../common/src/components/Text\";\nimport Button from \"../common/src/components/Button\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport { GlobalStyle, CharityWrapper, ContentWrapper } from \"../containers/Charity/charity.style\";\nimport TagSelection from \"../containers/Charity/Tags/tagSelection\";\nimport { Box, Container, Typography, Grid, Paper, Divider } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Heading from \"../common/src/components/Heading\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport BusinessCenterIcon from \"@material-ui/icons/BusinessCenter\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useData, useDispatchUser } from \"../lib/userData\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_PROJECT } from \"../lib/mutations\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nconst handleLogout = () => {\n  console.log(\"logout called\");\n  cookie.remove(\"token\");\n  dispatch({\n    type: \"LOGOUT\",\n    payload: {}\n  });\n  window.location = \"/\";\n};\n\nexport default (() => {\n  const classes = useStyles();\n  const dispatch = useDispatchUser();\n  const organization = useData(); //returns context\n\n  const {\n    0: filedIds,\n    1: setFileIDs\n  } = useState([]);\n  const {\n    0: logo,\n    1: setLogo\n  } = useState(null);\n  const {\n    0: cover,\n    1: setCover\n  } = useState(null);\n  const {\n    0: regFile,\n    1: setRegFile\n  } = useState(null);\n  const {\n    0: taxFile,\n    1: setTaxFile\n  } = useState(null);\n  const {\n    0: formValues,\n    1: setFormValues\n  } = useState(\"\");\n  const {\n    0: createLoading,\n    1: setCreateLoading\n  } = useState(false);\n  const {\n    0: createError,\n    1: setCreateError\n  } = useState(\"\");\n  const {\n    0: fileLoading,\n    1: setFileLoading\n  } = useState(false);\n  const {\n    0: fileError,\n    1: setFileError\n  } = useState(\"\");\n  const [createProject] = useMutation(CREATE_PROJECT, {\n    onCompleted: data => {\n      console.log(data); // dispatch({\n      //   type: \"UPDATE\",\n      //   payload: data.updateOrganization.organization,\n      // });\n\n      setCreateError(\"Project Added succesfully!\");\n      setCreateLoading(false);\n    },\n    onError: error => {\n      console.log(error);\n      setCreateError(\"Sorry an error occurred. Please try again!\");\n    }\n  });\n  const schemas = [{\n    name: Yup.string().required(\"Please Enter Project Title\"),\n    targetAmount: Yup.number().required(\"Please Enter Target Amount\"),\n    shortDescription: Yup.string().required(\"Please Enter Short Description\"),\n    description: Yup.string().required(\"Please Enter Project Details\"),\n    titleImage: Yup.string().required(\"Please Upload a title image\"),\n    relatedImages: Yup.array(),\n    tags: Yup.array()\n  }];\n  const {\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    handleReset,\n    values,\n    touched,\n    errors,\n    setFieldValue\n  } = useFormik({\n    initialValues: {\n      name: \"\",\n      targetAmount: 0,\n      shortDescription: \"\",\n      description: \"\",\n      titleImage: \"\",\n      relatedImages: [],\n      tags: []\n    },\n    onSubmit: values => {\n      console.log(\"On Submit\");\n      console.log(values);\n      setCreateLoading(true);\n      setCreateError(null);\n      createProject({\n        variables: {\n          fields: {\n            data: {\n              titleImage: values.titleImage,\n              relatedImages: values.relatedImages.length ? values.relatedImages : null,\n              name: values.name,\n              targetAmount: values.targetAmount,\n              shortDescription: values.shortDescription,\n              description: values.description,\n              organization: organization.id,\n              status: \"active\"\n            }\n          }\n        }\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0])\n  });\n\n  const handlefiles = async (files, type) => {\n    console.log(files, type);\n\n    if (files.length) {\n      setCreateLoading(true);\n      const form = new FormData();\n      files.forEach(file => {\n        form.append(\"files\", file);\n      });\n\n      try {\n        await axios.post(\"http://localhost:1337/upload\", form, {\n          headers: {\n            \"Content-type\": \"multipart/form-data\"\n          }\n        }).then(res => {\n          console.log(res.data); //setFileIDs([...filedIds, ...res.data]);\n\n          if (type == \"titleImage\") {\n            setFieldValue(\"titleImage\", res.data[0].id);\n          }\n\n          if (type == \"relatedImages\") {\n            let images = [];\n            res.data.map(img => {\n              images.push(img.id);\n            });\n            setFieldValue(\"relatedImages\", images);\n          }\n\n          setCreateLoading(false);\n        });\n      } catch (error) {\n        console.log(error, \"error\");\n        setCreateError(\"Sorry an error occurred. Please try again!\");\n      }\n    } else {\n      setFieldValue(\"titleImage\", \"\");\n    }\n  };\n\n  return __jsx(ThemeProvider, {\n    theme: charityTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, \"My Account | Esaar\"), __jsx(\"meta\", {\n    name: \"Description\",\n    content: \"React next landing page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#FCF22B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  })), __jsx(ResetCSS, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }), __jsx(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }), __jsx(CharityWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }, __jsx(Sticky, {\n    top: 0,\n    innerZ: 9999,\n    activeClass: \"sticky-nav-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  })), __jsx(DrawerProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, __jsx(DrawerSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  })), __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, __jsx(Grid, {\n    container: true,\n    style: {\n      maxWidth: \"1170px\",\n      minHeight: \"100vh\",\n      paddingTop: \"140px\",\n      marginLeft: \"170px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }, __jsx(Container, {\n    style: {\n      padding: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, __jsx(List, {\n    component: \"nav\",\n    \"aria-label\": \"main mailbox folders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 23\n    }\n  }, __jsx(Link, {\n    href: \"/account_o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 25\n    }\n  }, __jsx(ListItem, {\n    button: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 27\n    }\n  }, __jsx(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 29\n    }\n  }, __jsx(AccountCircleIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 31\n    }\n  })), __jsx(ListItemText, {\n    primary: \"Account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 29\n    }\n  }))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  }), __jsx(Link, {\n    href: \"/addProject\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 25\n    }\n  }, __jsx(ListItem, {\n    button: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 27\n    }\n  }, __jsx(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 29\n    }\n  }, __jsx(BusinessCenterIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 31\n    }\n  })), __jsx(ListItemText, {\n    primary: \"Add Project \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 29\n    }\n  }))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 25\n    }\n  }), __jsx(Link, {\n    href: \"/myProjects\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 25\n    }\n  }, __jsx(ListItem, {\n    button: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 27\n    }\n  }, __jsx(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, __jsx(AssessmentIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 31\n    }\n  })), __jsx(ListItemText, {\n    primary: \"Projects\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 29\n    }\n  }))), __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 25\n    }\n  }), __jsx(ListItem, {\n    button: true,\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 25\n    }\n  }, __jsx(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 27\n    }\n  }, __jsx(PowerSettingsNewIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 29\n    }\n  })), __jsx(ListItemText, {\n    primary: \"Logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 27\n    }\n  }))))))), __jsx(Grid, {\n    item: true,\n    md: 8,\n    style: {\n      marginLeft: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 15\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, __jsx(Container, {\n    style: {\n      padding: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 19\n    }\n  }, \" \", __jsx(Heading, {\n    content: \"Add Project\",\n    color: \"#05B890\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }), \" \", __jsx(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 21\n    }\n  }), __jsx(Grid, {\n    item: true,\n    md: 7,\n    style: {\n      marginTop: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 21\n    }\n  }, __jsx(Heading, {\n    content: \"Project Title\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 23\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"name\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.name && touched.name,\n    helperText: errors.name && touched.name ? errors.name : null,\n    label: \"\",\n    variant: \"outlined\",\n    size: \"small\",\n    style: {\n      color: \"#3E2672\"\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 23\n    }\n  }), __jsx(Heading, {\n    content: \"Target Amount\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 23\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"targetAmount\",\n    type: \"number\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.targetAmount && touched.targetAmount,\n    helperText: errors.targetAmount && touched.targetAmount ? errors.targetAmount : null,\n    id: \"outlined-basic\",\n    label: \"in PKR\",\n    variant: \"outlined\",\n    size: \"small\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  }), __jsx(TagSelection, {\n    values: values,\n    setFieldValue: setFieldValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 23\n    }\n  }), __jsx(Heading, {\n    content: \"Short Description\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 23\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"shortDescription\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.shortDescription && touched.shortDescription,\n    helperText: errors.shortDescription && touched.shortDescription ? errors.shortDescription : null,\n    id: \"outlined-basic\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"small\",\n    style: {\n      color: \"#05B890\"\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 23\n    }\n  }), __jsx(Heading, {\n    content: \"Project Details\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 23\n    }\n  }), \" \", __jsx(TextField, {\n    name: \"description\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    error: errors.description && touched.description,\n    helperText: errors.description && touched.description ? errors.description : null,\n    id: \"outlined-basic\",\n    label: \"\",\n    variant: \"outlined\",\n    size: \"large\",\n    multiline: true,\n    rows: 5,\n    style: {\n      color: \"#05B890\"\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 23\n    }\n  })), __jsx(Heading, {\n    content: \"Title Image\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }), __jsx(DropzoneArea, {\n    acceptedFiles: [\"image/*\"],\n    dropzoneText: \"Drag and drop an image here or click\",\n    onChange: files => handlefiles(files, \"titleImage\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 21\n    }\n  }), errors.titleImage ? __jsx(Text, {\n    style: {\n      color: \"orange\"\n    },\n    content: errors.titleImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 23\n    }\n  }) : null, __jsx(Heading, {\n    content: \"Related Images\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 21\n    }\n  }), __jsx(DropzoneArea, {\n    acceptedFiles: [\"image/*\"],\n    dropzoneText: \"Drag and drop images here or click\",\n    onChange: files => handlefiles(files, \"relatedImages\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 21\n    }\n  })), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      paddingLeft: \"40px\",\n      alignContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 19\n    }\n  }, createError ? __jsx(Text, {\n    style: {\n      color: \"orange\"\n    },\n    content: createError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 23\n    }\n  }) : null), __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 12,\n    style: {\n      alignContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 19\n    }\n  }, __jsx(Button, {\n    title: \"Create Project\",\n    variant: \"extendedFab\",\n    onClick: handleSubmit,\n    disabled: createLoading,\n    isLoading: createLoading,\n    style: {\n      marginTop: \"20px\",\n      marginLeft: \"260px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"200px\",\n      height: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 21\n    }\n  })))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"sources":["/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/addProject.js"],"names":["React","Fragment","Text","Button","Link","useState","Head","Sticky","ThemeProvider","charityTheme","ResetCSS","DrawerProvider","Navbar","DrawerSection","Footer","GlobalStyle","CharityWrapper","ContentWrapper","TagSelection","Box","Container","Typography","Grid","Paper","Divider","axios","makeStyles","List","ListItem","ListItemIcon","ListItemText","Heading","AccountCircleIcon","BusinessCenterIcon","AssessmentIcon","PowerSettingsNewIcon","TextField","useData","useDispatchUser","useFormik","Yup","useQuery","useMutation","CREATE_PROJECT","DropzoneArea","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","handleLogout","console","log","cookie","remove","dispatch","type","payload","window","location","classes","organization","filedIds","setFileIDs","logo","setLogo","cover","setCover","regFile","setRegFile","taxFile","setTaxFile","formValues","setFormValues","createLoading","setCreateLoading","createError","setCreateError","fileLoading","setFileLoading","fileError","setFileError","createProject","onCompleted","data","onError","error","schemas","name","string","required","targetAmount","number","shortDescription","description","titleImage","relatedImages","array","tags","handleBlur","handleChange","handleSubmit","handleReset","values","touched","errors","setFieldValue","initialValues","onSubmit","variables","fields","length","id","status","validationSchema","object","shape","handlefiles","files","form","FormData","forEach","file","append","post","headers","then","res","images","map","img","push","minHeight","paddingTop","marginLeft","height","padding","marginTop","color","paddingLeft","alignContent","display","alignItems","justifyContent","minWidth"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\n\nimport Text from \"../common/src/components/Text\";\nimport Button from \"../common/src/components/Button\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport {\n  GlobalStyle,\n  CharityWrapper,\n  ContentWrapper,\n} from \"../containers/Charity/charity.style\";\nimport TagSelection from \"../containers/Charity/Tags/tagSelection\";\nimport {\n  Box,\n  Container,\n  Typography,\n  Grid,\n  Paper,\n  Divider,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Heading from \"../common/src/components/Heading\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport BusinessCenterIcon from \"@material-ui/icons/BusinessCenter\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { useData, useDispatchUser } from \"../lib/userData\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { CREATE_PROJECT } from \"../lib/mutations\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\nconst handleLogout = () => {\n  console.log(\"logout called\");\n  cookie.remove(\"token\");\n\n  dispatch({ type: \"LOGOUT\", payload: {} });\n\n  window.location = \"/\";\n};\n\nexport default () => {\n  const classes = useStyles();\n\n  const dispatch = useDispatchUser();\n  const organization = useData(); //returns context\n  const [filedIds, setFileIDs] = useState([]);\n  const [logo, setLogo] = useState(null);\n  const [cover, setCover] = useState(null);\n  const [regFile, setRegFile] = useState(null);\n  const [taxFile, setTaxFile] = useState(null);\n\n  const [formValues, setFormValues] = useState(\"\");\n  const [createLoading, setCreateLoading] = useState(false);\n  const [createError, setCreateError] = useState(\"\");\n\n  const [fileLoading, setFileLoading] = useState(false);\n  const [fileError, setFileError] = useState(\"\");\n\n  const [createProject] = useMutation(CREATE_PROJECT, {\n    onCompleted: (data) => {\n      console.log(data);\n      // dispatch({\n      //   type: \"UPDATE\",\n      //   payload: data.updateOrganization.organization,\n      // });\n      setCreateError(\"Project Added succesfully!\");\n      setCreateLoading(false);\n    },\n    onError: (error) => {\n      console.log(error);\n      setCreateError(\"Sorry an error occurred. Please try again!\");\n    },\n  });\n  const schemas = [\n    {\n      name: Yup.string().required(\"Please Enter Project Title\"),\n      targetAmount: Yup.number().required(\"Please Enter Target Amount\"),\n      shortDescription: Yup.string().required(\"Please Enter Short Description\"),\n      description: Yup.string().required(\"Please Enter Project Details\"),\n      titleImage: Yup.string().required(\"Please Upload a title image\"),\n      relatedImages: Yup.array(),\n      tags: Yup.array(),\n    },\n  ];\n\n  const {\n    handleBlur,\n    handleChange,\n    handleSubmit,\n    handleReset,\n    values,\n    touched,\n    errors,\n    setFieldValue,\n  } = useFormik({\n    initialValues: {\n      name: \"\",\n      targetAmount: 0,\n      shortDescription: \"\",\n      description: \"\",\n      titleImage: \"\",\n      relatedImages: [],\n      tags: [],\n    },\n    onSubmit: (values) => {\n      console.log(\"On Submit\");\n\n      console.log(values);\n      setCreateLoading(true);\n      setCreateError(null);\n      createProject({\n        variables: {\n          fields: {\n            data: {\n              titleImage: values.titleImage,\n              relatedImages: values.relatedImages.length\n                ? values.relatedImages\n                : null,\n              name: values.name,\n              targetAmount: values.targetAmount,\n              shortDescription: values.shortDescription,\n              description: values.description,\n              organization: organization.id,\n              status: \"active\",\n            },\n          },\n        },\n      });\n    },\n    validationSchema: Yup.object().shape(schemas[0]),\n  });\n  const handlefiles = async (files, type) => {\n    console.log(files, type);\n    if (files.length) {\n      setCreateLoading(true);\n\n      const form = new FormData();\n      files.forEach((file) => {\n        form.append(\"files\", file);\n      });\n      try {\n        await axios\n          .post(\"http://localhost:1337/upload\", form, {\n            headers: {\n              \"Content-type\": \"multipart/form-data\",\n            },\n          })\n          .then((res) => {\n            console.log(res.data);\n            //setFileIDs([...filedIds, ...res.data]);\n            if (type == \"titleImage\") {\n              setFieldValue(\"titleImage\", res.data[0].id);\n            }\n            if (type == \"relatedImages\") {\n              let images = [];\n              res.data.map((img) => {\n                images.push(img.id);\n              });\n\n              setFieldValue(\"relatedImages\", images);\n            }\n\n            setCreateLoading(false);\n          });\n      } catch (error) {\n        console.log(error, \"error\");\n        setCreateError(\"Sorry an error occurred. Please try again!\");\n      }\n    } else {\n      setFieldValue(\"titleImage\", \"\");\n    }\n  };\n  return (\n    <ThemeProvider theme={charityTheme}>\n      <Fragment>\n        {/* Start charity head section */}\n        <Head>\n          <title>My Account | Esaar</title>\n          <meta name=\"Description\" content=\"React next landing page\" />\n          <meta name=\"theme-color\" content=\"#FCF22B\" />\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1.0\"\n          />\n          {/* Load google fonts */}\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\"\n            rel=\"stylesheet\"\n          />\n        </Head>\n        <ResetCSS />\n        <GlobalStyle />\n        <CharityWrapper>\n          <Sticky top={0} innerZ={9999} activeClass=\"sticky-nav-active\">\n            <Navbar />\n          </Sticky>\n          <DrawerProvider>\n            <DrawerSection />\n          </DrawerProvider>\n          <ContentWrapper>\n            <Grid\n              container\n              style={{\n                maxWidth: \"1170px\",\n                minHeight: \"100vh\",\n                paddingTop: \"140px\",\n                marginLeft: \"170px\",\n              }}\n            >\n              <Grid item md={3}>\n                <Paper style={{ height: \"100%\" }}>\n                  <Container style={{ padding: \"40px\" }}>\n                    <div className={classes.root}>\n                      <List component=\"nav\" aria-label=\"main mailbox folders\">\n                        <Link href=\"/account_o\">\n                          <ListItem button>\n                            <ListItemIcon>\n                              <AccountCircleIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Account\" />\n                          </ListItem>\n                        </Link>\n                        <Divider />\n                        <Link href=\"/addProject\">\n                          <ListItem button>\n                            <ListItemIcon>\n                              <BusinessCenterIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Add Project \" />\n                          </ListItem>\n                        </Link>\n                        <Divider />\n                        <Link href=\"/myProjects\">\n                          <ListItem button>\n                            <ListItemIcon>\n                              <AssessmentIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Projects\" />\n                          </ListItem>\n                        </Link>\n                        <Divider />\n                        <ListItem button onClick={handleLogout}>\n                          <ListItemIcon>\n                            <PowerSettingsNewIcon />\n                          </ListItemIcon>\n                          <ListItemText primary=\"Logout\" />\n                        </ListItem>\n                      </List>\n                    </div>\n                  </Container>\n                </Paper>\n              </Grid>\n              <Grid item md={8} style={{ marginLeft: \"30px\" }}>\n                <Paper style={{ height: \"100%\" }}>\n                  <Container style={{ padding: \"40px\" }}>\n                    {\" \"}\n                    <Heading content=\"Add Project\" color=\"#05B890\" />{\" \"}\n                    <Divider />\n                    <Grid item md={7} style={{ marginTop: \"30px\" }}>\n                      <Heading\n                        content=\"Project Title\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />{\" \"}\n                      {/* FIXME: Color of text fields */}\n                      <TextField\n                        name=\"name\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        error={errors.name && touched.name}\n                        helperText={\n                          errors.name && touched.name ? errors.name : null\n                        }\n                        label=\"\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        style={{ color: \"#3E2672\" }}\n                        fullWidth\n                      />\n                      <Heading\n                        content=\"Target Amount\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />{\" \"}\n                      {/* FIXME: Color of text fields */}\n                      <TextField\n                        name=\"targetAmount\"\n                        type=\"number\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        error={errors.targetAmount && touched.targetAmount}\n                        helperText={\n                          errors.targetAmount && touched.targetAmount\n                            ? errors.targetAmount\n                            : null\n                        }\n                        id=\"outlined-basic\"\n                        label=\"in PKR\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        fullWidth\n                      />\n                      <TagSelection\n                        values={values}\n                        setFieldValue={setFieldValue}\n                      />\n                      <Heading\n                        content=\"Short Description\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />{\" \"}\n                      {/* FIXME: Color of text fields */}\n                      <TextField\n                        name=\"shortDescription\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        error={\n                          errors.shortDescription && touched.shortDescription\n                        }\n                        helperText={\n                          errors.shortDescription && touched.shortDescription\n                            ? errors.shortDescription\n                            : null\n                        }\n                        id=\"outlined-basic\"\n                        label=\"\"\n                        variant=\"outlined\"\n                        size=\"small\"\n                        style={{ color: \"#05B890\" }}\n                        fullWidth\n                      />\n                      <Heading\n                        content=\"Project Details\"\n                        as=\"h4\"\n                        style={{ marginTop: \"1rem\" }}\n                      />{\" \"}\n                      {/* FIXME: Color of text fields */}\n                      <TextField\n                        name=\"description\"\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        error={errors.description && touched.description}\n                        helperText={\n                          errors.description && touched.description\n                            ? errors.description\n                            : null\n                        }\n                        id=\"outlined-basic\"\n                        label=\"\"\n                        variant=\"outlined\"\n                        size=\"large\"\n                        multiline\n                        rows={5}\n                        style={{ color: \"#05B890\" }}\n                        fullWidth\n                      />\n                    </Grid>\n                    <Heading\n                      content=\"Title Image\"\n                      as=\"h4\"\n                      style={{ marginTop: \"1rem\" }}\n                    />\n                    <DropzoneArea\n                      acceptedFiles={[\"image/*\"]}\n                      dropzoneText={\"Drag and drop an image here or click\"}\n                      onChange={(files) => handlefiles(files, \"titleImage\")}\n                    />\n                    {errors.titleImage ? (\n                      <Text\n                        style={{ color: \"orange\" }}\n                        content={errors.titleImage}\n                      />\n                    ) : null}\n                    <Heading\n                      content=\"Related Images\"\n                      as=\"h4\"\n                      style={{ marginTop: \"1rem\" }}\n                    />\n                    <DropzoneArea\n                      acceptedFiles={[\"image/*\"]}\n                      dropzoneText={\"Drag and drop images here or click\"}\n                      onChange={(files) => handlefiles(files, \"relatedImages\")}\n                    />\n                  </Container>\n                  <Grid\n                    container\n                    item\n                    md={12}\n                    style={{\n                      paddingLeft: \"40px\",\n                      alignContent: \"center\",\n                    }}\n                  >\n                    {createError ? (\n                      <Text style={{ color: \"orange\" }} content={createError} />\n                    ) : null}\n                  </Grid>\n\n                  <Grid\n                    container\n                    item\n                    md={12}\n                    style={{ alignContent: \"center\" }}\n                  >\n                    <Button\n                      title=\"Create Project\"\n                      variant=\"extendedFab\"\n                      onClick={handleSubmit}\n                      disabled={createLoading}\n                      isLoading={createLoading}\n                      style={{\n                        marginTop: \"20px\",\n                        marginLeft: \"260px\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        minWidth: \"200px\",\n                        height: \"auto\",\n                      }}\n                    />\n                  </Grid>\n                </Paper>\n              </Grid>\n            </Grid>\n          </ContentWrapper>\n          <Footer />\n        </CharityWrapper>\n        {/* End of charity wrapper section */}\n      </Fragment>\n    </ThemeProvider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}