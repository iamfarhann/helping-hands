{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Heading from \"../../../common/src/components/Heading\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { GET_TAGS } from \"../../../lib/queries\";\nimport { Divider } from \"@material-ui/core\"; //import DoneIcon from '@material-ui/icons/Done';\n\nvar useStyles = makeStyles(function (theme) {\n  return {};\n});\nexport default function TagSelection(_ref) {\n  var values = _ref.values,\n      setFieldValue = _ref.setFieldValue;\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      addTags = _useState[0],\n      setAddTags = _useState[1];\n\n  var _useQuery = useQuery(GET_TAGS),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error;\n\n  useEffect(function () {\n    if (data[\"tags\"]) {\n      setAddTags(data.tags);\n    }\n  }, [data]);\n\n  var handleAddTag = function handleAddTag(tag) {\n    console.log(tag);\n    setAddTags(function (item) {\n      return item.filter(function (fet) {\n        return fet.id != tag.id;\n      });\n    });\n    setFieldValue(\"tags\", values.tags.concat(tag));\n  };\n\n  var handleDeleteTag = function handleDeleteTag(tag) {\n    console.log(tag);\n    setFieldValue(\"tags\", values.tags.filter(function (fet) {\n      return fet.id != tag.id;\n    }));\n    setAddTags(function (addTags) {\n      return addTags.concat(tag);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Heading, {\n    content: \"Tags\",\n    as: \"h4\",\n    style: {\n      marginTop: \"1rem\"\n    }\n  }), !values.tags.length && __jsx(Heading, {\n    as: \"h6\",\n    content: \"No Additional Tag Selected\"\n  }), values.tags.map(function (tag) {\n    return __jsx(Chip, {\n      key: tag.id,\n      size: \"small\",\n      color: \"secondary\",\n      label: tag.name,\n      style: {\n        margin: \"3px\"\n      },\n      onDelete: function onDelete() {\n        return handleDeleteTag(tag);\n      }\n    });\n  }), __jsx(Divider, {\n    style: {\n      marginTop: \"10px\",\n      marginBottom: \"10px\"\n    }\n  }), !addTags.length ? __jsx(Heading, {\n    as: \"h6\",\n    content: \"No Additional Tags Left\"\n  }) : __jsx(Heading, {\n    as: \"h6\",\n    content: \"Click to add tags\"\n  }), addTags.map(function (tag) {\n    return __jsx(Chip, {\n      key: tag.id,\n      size: \"small\",\n      variant: \"outlined\",\n      color: \"secondary\",\n      label: tag.name,\n      style: {\n        margin: \"3px\"\n      },\n      onClick: function onClick() {\n        return handleAddTag(tag);\n      }\n    });\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}