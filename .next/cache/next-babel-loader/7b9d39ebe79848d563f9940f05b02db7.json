{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport Link from \"next/link\";\nimport Fade from \"react-reveal/Fade\";\nimport Text from \"../../../common/src/components/Text\";\nimport Heading from \"../../../common/src/components/Heading\";\nimport Image from \"../../../common/src/components/Image\";\nimport Tab, { Panel } from \"../../../common/src/components/Tabs\";\nimport SectionWrapper, { ContentWrapper } from \"./branchSection.style\";\nimport { branchData } from \"../../../common/src/data/Charity\";\nimport ArrowRightAltIcon from \"@material-ui/icons/ArrowForward\";\nimport { useData, useDispatchUser } from \"../../../lib/userData\";\nimport { GET_ORGANIZATIONS } from \"../../../lib/queries\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { Box } from \"@material-ui/core\";\n\nvar BranchSection = function BranchSection() {\n  var _useQuery = useQuery(GET_ORGANIZATIONS, {\n    variables: {\n      where: {},\n      sort: \"createdAt:desc\",\n      limit: null,\n      start: 0\n    }\n  }),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      error = _useQuery.error,\n      refetch = _useQuery.refetch;\n\n  var title = function title(text) {\n    return {\n      __html: text\n    };\n  }; // _.sortBy(data.organizations, [\n  //   function(o) {\n  //     return o.projects.length;\n  //   },\n  // ])\n\n\n  return __jsx(SectionWrapper, {\n    id: \"branch\"\n  }, __jsx(Tab, {\n    active: 2\n  }, data ? _.take(_.orderBy(data.organizations, [\"projects\"], [\"desc\"]), 5).map(function (item) {\n    return __jsx(Panel, {\n      title: __jsx(Text, {\n        content: item.organizationName\n      }),\n      key: \"tab_key\".concat(item.id)\n    }, __jsx(ContentWrapper, null, __jsx(Fade, null, __jsx(\"div\", {\n      className: \"image\"\n    }, __jsx(Image, {\n      src: \"\".concat(process.env.PLAIN_URL).concat(item.coverImage.url),\n      alt: \"\".concat(item.organizationName, \" cover image\"),\n      style: {\n        height: \"540px\"\n      }\n    }))), __jsx(\"div\", {\n      className: \"content\"\n    }, __jsx(Heading, {\n      as: \"h4\",\n      content: \"TOP ORGANIZATIONS\"\n    }), __jsx(\"h3\", null, item.mission), __jsx(Link, {\n      href: \"/organizations/[organization]\",\n      as: \"/organizations/\".concat(item.id)\n    }, __jsx(\"a\", {\n      className: \"learn__more-btn\"\n    }, __jsx(\"span\", {\n      className: \"hyphen\"\n    }), __jsx(\"span\", {\n      className: \"btn_text\"\n    }, \"SEE MORE OF OUR IMPACT\"))), __jsx(Box, {\n      width: 1,\n      pt: 3,\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItem: \"center\"\n    }, __jsx(Link, {\n      href: \"/allOrganizations\"\n    }, __jsx(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      style: {\n        cursor: \"pointer\"\n      }\n    }, __jsx(ArrowRightAltIcon, {\n      style: {\n        color: \"white\"\n      }\n    }), __jsx(\"span\", {\n      style: {\n        color: \"white\"\n      }\n    }, \"See All Organizations\")))))));\n  }) : branchData.map(function (item) {\n    return __jsx(Panel, {\n      title: __jsx(Text, {\n        content: item.menuItem\n      }),\n      key: \"tab_key\".concat(item.id)\n    }, __jsx(ContentWrapper, null, __jsx(Fade, null, __jsx(\"div\", {\n      className: \"image\"\n    }, __jsx(Image, {\n      src: item.image,\n      alt: \"Charity Landing\"\n    }))), __jsx(\"div\", {\n      className: \"content\"\n    }, __jsx(Heading, {\n      as: \"h4\",\n      content: item.slogan\n    }), __jsx(\"h2\", {\n      dangerouslySetInnerHTML: title(item.title)\n    }), __jsx(Text, {\n      content: item.description\n    }), __jsx(Link, {\n      href: item.linkUrl\n    }, __jsx(\"a\", {\n      className: \"learn__more-btn\"\n    }, __jsx(\"span\", {\n      className: \"hyphen\"\n    }), __jsx(\"span\", {\n      className: \"btn_text\"\n    }, item.linkText))))));\n  })));\n};\n\nexport default BranchSection;","map":null,"metadata":{},"sourceType":"module"}