{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useReducer, useContext, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nconst UserStateContext = React.createContext();\nconst UserDispatchContext = React.createContext();\nexport const UserProvider = ({\n  children\n}) => {\n  const router = useRouter();\n\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case \"LOGIN\":\n        if (action.payload[\"id\"]) {\n          if (action.payload.user.role.name == \"Donor\") {\n            router.push(\"/account\");\n          } else {\n            router.push(\"/account_o\");\n          }\n        }\n\n        return action.payload;\n\n      case \"LOGOUT\":\n        return action.payload;\n\n      case \"UPDATE\":\n        return action.payload;\n\n      default:\n        throw new Error(`Unknown action: ${action.type}`);\n    }\n  };\n\n  const {\n    0: state,\n    1: dispatch\n  } = useReducer(reducer, 0); //  useEffect(()=>{\n  //   },[state])\n\n  return __jsx(UserDispatchContext.Provider, {\n    value: dispatch\n  }, __jsx(UserStateContext.Provider, {\n    value: state\n  }, children));\n};\nexport const useData = () => useContext(UserStateContext);\nexport const useDispatchUser = () => useContext(UserDispatchContext);","map":null,"metadata":{},"sourceType":"module"}