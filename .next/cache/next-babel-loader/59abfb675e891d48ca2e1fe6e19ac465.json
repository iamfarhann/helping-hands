{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport Container from \"../../../common/src/components/UI/Container\";\nimport Heading from \"../../../common/src/components/Heading\";\nimport Button from \"../../../common/src/components/Button\";\nimport Text from \"../../../common/src/components/Text\";\nimport Image from \"../../../common/src/components/Image\";\nimport { Icon } from \"react-icons-kit\";\nimport { twitter } from \"react-icons-kit/fa/twitter\";\nimport { facebookSquare } from \"react-icons-kit/fa/facebookSquare\";\nimport SectionWrapper, { SectionHeader, ContentArea, ImageWrapper, TextWrapper, TextAndLink, DonationProgressbar, BarArea, CurrentStatus, ShareArea, DonateButton, ShareList, Item } from \"./fundraiserSection.style\";\nimport { useData, useDispatchUser } from \"../../../lib/userData\";\nimport { GET_PROJECTS } from \"../../../lib/queries\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\nconst FundraiserSection = () => {\n  const {\n    0: selectedProject,\n    1: setSelectedProject\n  } = useState(null);\n  const {\n    data,\n    loading,\n    error,\n    refetch\n  } = useQuery(GET_PROJECTS, {\n    variables: {\n      where: {},\n      start: 0,\n      limit: null,\n      sort: \"createdAt:desc\"\n    }\n  });\n  useEffect(() => {\n    console.log(data);\n\n    if (data) {\n      setSelectedProject(data.projects[_.random(0, data.projects.length - 1)]);\n    }\n  }, [data]);\n  return __jsx(SectionWrapper, {\n    id: \"fundraisers\"\n  }, !selectedProject ? __jsx(Container, {\n    width: \"1260px\"\n  }, __jsx(SectionHeader, null, __jsx(Heading, {\n    content: \"Browse Fundraisers\"\n  }), __jsx(Text, {\n    content: \"People around the world are raising money for what they are passionate about. \"\n  })), __jsx(ContentArea, null, __jsx(ImageWrapper, null, __jsx(Image, {\n    src: \"./image/charity/banner/slide2.png\",\n    alt: \"Charity\"\n  })), __jsx(TextWrapper, null, __jsx(TextAndLink, null, __jsx(Heading, {\n    as: \"h4\",\n    content: \"START FUNDRAISING\"\n  }), __jsx(Link, {\n    href: \"#1\"\n  }, __jsx(\"a\", {\n    className: \"text_btn\"\n  }, \"SEE ALL \", __jsx(\"i\", {\n    className: \"flaticon-next\"\n  })))), __jsx(Heading, {\n    as: \"h3\",\n    content: \"Helping Hand For The Homeless\"\n  }), __jsx(Text, {\n    content: \"We are organizing a program on January 20, 2019 to help the homeless people. Our aim is to provide them a  specific place to live. \"\n  }), __jsx(DonationProgressbar, null, __jsx(BarArea, null, __jsx(CurrentStatus, null, __jsx(\"strong\", null, \"PKR 950\"), \" of 20,000 goal\"), __jsx(Text, {\n    content: \"Last donation 9m ago\"\n  })), __jsx(Heading, {\n    as: \"h5\",\n    content: \"Raised by 10 people in 1 month\"\n  })), __jsx(ShareArea, null, __jsx(Link, {\n    href: `/projects/[project]`,\n    as: `/projects/5f0b4ddaa9568904e4b6088a`\n  }, __jsx(Button, {\n    title: \"DONATE NOW\",\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"230px\",\n      height: \"65px\",\n      border: \"0\",\n      fontSize: \"15px\",\n      fontWeight: \"700\",\n      borderRadius: \"10px\",\n      cursor: \"pointer\",\n      color: \"#060F1E\",\n      backgroundColor: \"#C3EEE4\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      zIndex: \"1\"\n    }\n  })), __jsx(ShareList, null, __jsx(Item, null, \"Share on\"), __jsx(Item, null, __jsx(Link, {\n    href: \"#1\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: \"twitter\",\n    \"aria-label\": \"social share link\"\n  }, __jsx(Icon, {\n    icon: twitter\n  })))), __jsx(Item, null, __jsx(Link, {\n    href: \"#1\"\n  }, __jsx(\"a\", {\n    target: \"_blank\",\n    className: \"facebook\",\n    \"aria-label\": \"social share link\"\n  }, __jsx(Icon, {\n    icon: facebookSquare\n  }))))))))) : __jsx(Container, {\n    width: \"1260px\"\n  }, __jsx(SectionHeader, null, __jsx(Heading, {\n    content: \"Browse Fundraisers\"\n  }), __jsx(Text, {\n    content: \"People around the world are raising money for what they are passionate about. \"\n  })), __jsx(ContentArea, null, __jsx(ImageWrapper, null, __jsx(Image, {\n    src: `${process.env.PLAIN_URL}${selectedProject.titleImage.url}`,\n    alt: `${selectedProject.name}`\n  })), __jsx(TextWrapper, null, __jsx(TextAndLink, null, __jsx(Heading, {\n    as: \"h4\",\n    content: \"START FUNDRAISING\"\n  }), __jsx(Link, {\n    href: \"/explore\"\n  }, __jsx(\"a\", {\n    className: \"text_btn\"\n  }, \"SEE ALL \", __jsx(\"i\", {\n    className: \"flaticon-next\"\n  })))), __jsx(Heading, {\n    as: \"h3\",\n    content: selectedProject.name\n  }), __jsx(Text, {\n    content: selectedProject.shortDescription,\n    style: {\n      display: \"-webkit-box\",\n      WebkitLineClamp: 3,\n      WebkitBoxOrient: \"vertical\",\n      overflow: \"hidden\"\n    }\n  }), __jsx(DonationProgressbar, null, __jsx(BarArea, null, __jsx(CurrentStatus, null, __jsx(\"strong\", null, `Rs. ${selectedProject.totalDonations}`), \" \", `of ${selectedProject.targetAmount} goal`), selectedProject.donations.length ? __jsx(Text, {\n    content: `Last donation ${moment(selectedProject.donations[0].createdAt).fromNow()}`\n  }) : null), __jsx(Heading, {\n    as: \"h5\",\n    content: `Raised by ${selectedProject.donations.length} people since ${moment(selectedProject.createdAt).format(\"MMMM Do\")}`\n  })), __jsx(ShareArea, null, __jsx(Link, {\n    href: `/projects/[project]`,\n    as: `/projects/${selectedProject.id}`\n  }, __jsx(Button, {\n    title: \"See Details\",\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minWidth: \"230px\",\n      height: \"65px\",\n      border: \"0\",\n      fontSize: \"15px\",\n      fontWeight: \"700\",\n      borderRadius: \"10px\",\n      cursor: \"pointer\",\n      color: \"#060F1E\",\n      backgroundColor: \"#C3EEE4\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      zIndex: \"1\"\n    }\n  })))))));\n};\n\nexport default FundraiserSection;","map":null,"metadata":{},"sourceType":"module"}