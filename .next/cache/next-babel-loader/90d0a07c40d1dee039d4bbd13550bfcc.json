{"ast":null,"code":"var _jsxFileName = \"/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/explore.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Fragment, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport Text from \"../common/src/components/Text\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport { GlobalStyle, CharityWrapper, ContentWrapper } from \"../containers/Charity/charity.style\";\nimport { Box, Container, Typography, Grid, Paper, Divider, Checkbox } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport CommentIcon from \"@material-ui/icons/Comment\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport DraftsIcon from \"@material-ui/icons/Drafts\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport BusinessCenterIcon from \"@material-ui/icons/BusinessCenter\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport TextField from \"@material-ui/core/TextField\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport PasswordField from \"material-ui-password-field\";\nimport InputGroup from \"../common/src/components/InputGroup\";\nimport RadioGroup from \"../common/src/components/RadioGroup\";\nimport SectionWrapper, { ContentArea, ButtonGroup, DonationForm, DonateButton } from \"../containers/Charity/donateSection/donateSection.style\";\nimport { addCredits, currencyOptions } from \"../common/src/data/Charity\";\nimport cookie from \"js-cookie\";\nimport { useRouter } from \"next/router\";\nimport { useData, useDispatchUser } from \"../lib/userData\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport { UPDATE_DONOR } from \"../lib/mutations\";\nimport { GET_PROJECTS, GET_TAG_NAMES } from \"../lib/queries\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport axios from \"axios\";\nimport TagSelection from \"../containers/Charity/Tags/tagSelection\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ProjectCard from \"../containers/Charity/Project\";\nimport Chip from \"@material-ui/core/Chip\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport _ from \"lodash\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  }\n}));\nexport default (() => {\n  const classes = useStyles();\n  const {\n    0: selectedTag,\n    1: setSelectedTag\n  } = useState([]);\n  const {\n    data: allTags,\n    loading: tagLoading,\n    error: tagError,\n    refetch: tagRefetch\n  } = useQuery(GET_TAG_NAMES);\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const [getProjects, {\n    data,\n    loading,\n    error,\n    refetch\n  }] = useLazyQuery(GET_PROJECTS);\n  useEffect(() => {\n    console.log(data);\n\n    if (!data) {\n      getProjects({\n        variables: {\n          where: {},\n          sort: \"createdAt:desc\",\n          limit: 10,\n          start: 0\n        }\n      });\n    }\n  }, [data]);\n\n  const handleFilter = () => {\n    console.log(\"Handle Filter:\", selectedTag, {\n      variables: {\n        where: {\n          tags_in: selectedTag.map(tag => tag.id)\n        },\n        sort: \"createdAt:desc\",\n        limit: \"\",\n        start: 0\n      }\n    });\n\n    if (selectedTag.length) {\n      getProjects({\n        variables: {\n          where: {\n            tags_in: selectedTag.map(tag => tag.id)\n          },\n          sort: \"createdAt:desc\",\n          limit: \"\",\n          start: 0\n        }\n      });\n    } else {\n      getProjects({\n        variables: {\n          where: {},\n          sort: \"createdAt:desc\",\n          limit: 10,\n          start: 0\n        }\n      });\n    }\n  };\n\n  return __jsx(ThemeProvider, {\n    theme: charityTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, \"Explore Projects | Esaar\"), __jsx(\"meta\", {\n    name: \"Description\",\n    content: \"React next landing page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"theme-color\",\n    content: \"#FCF22B\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), __jsx(\"meta\", {\n    name: \"viewport\",\n    content: \"width=device-width, initial-scale=1.0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }), __jsx(\"link\", {\n    href: \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\",\n    rel: \"stylesheet\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  })), __jsx(ResetCSS, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }), __jsx(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }), __jsx(CharityWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, __jsx(Sticky, {\n    top: 0,\n    innerZ: 9999,\n    activeClass: \"sticky-nav-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, __jsx(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  })), __jsx(DrawerProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, __jsx(DrawerSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  })), __jsx(ContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 11\n    }\n  }, __jsx(Container, {\n    maxWidth: \"lg\",\n    style: {\n      marginTop: \"140px\",\n      height: \"100%\",\n      paddingBottom: \"40px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, __jsx(Grid, {\n    container: true,\n    alignItems: \"flex-start\",\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, __jsx(Paper, {\n    style: {\n      height: \"90vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }, __jsx(Container, {\n    style: {\n      padding: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 23\n    }\n  }, __jsx(Text, {\n    content: \"Explore projects by categories:\",\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }), __jsx(Autocomplete, {\n    size: \"small\",\n    multiple: true,\n    id: \"tags-outlined\",\n    options: allTags ? allTags.tags.map(tag => {\n      return {\n        id: tag.id,\n        value: tag.id,\n        label: tag.name\n      };\n    }) : [],\n    getOptionLabel: option => option.label,\n    value: selectedTag,\n    onChange: (event, newValue) => {\n      setSelectedTag(_.uniqBy(newValue, \"id\"));\n    } //defaultValue={[top100Films[13]]}\n    ,\n    filterSelectedOptions: true,\n    renderInput: params => __jsx(TextField, _extends({}, params, {\n      variant: \"outlined\",\n      label: \"Select Categories\",\n      placeholder: \"Categories\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 29\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 25\n    }\n  }), __jsx(Box, {\n    display: \"flex\",\n    py: 2,\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 25\n    }\n  }, __jsx(Button, {\n    title: \"Filter\",\n    onClick: handleFilter,\n    variant: \"extendedFab\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 27\n    }\n  })))))), data ? __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 9,\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 19\n    }\n  }, data.projects.map(project => {\n    return __jsx(Grid, {\n      item: true,\n      md: 4,\n      key: project.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 25\n      }\n    }, __jsx(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 27\n      }\n    }, __jsx(ProjectCard, {\n      project: project,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 29\n      }\n    })));\n  })) : __jsx(Grid, {\n    container: true,\n    item: true,\n    md: 8,\n    justify: \"center\",\n    alignItem: \"center\",\n    spacing: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }, __jsx(Grid, {\n    item: true,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }, __jsx(CircularProgress, {\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 23\n    }\n  })))))), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"sources":["/Users/mahad/Local Disk/FYP-FE/helping-hands/pages/explore.js"],"names":["React","Fragment","useEffect","useState","Head","Link","Text","Sticky","ThemeProvider","charityTheme","ResetCSS","DrawerProvider","Navbar","DrawerSection","Footer","GlobalStyle","CharityWrapper","ContentWrapper","Box","Container","Typography","Grid","Paper","Divider","Checkbox","makeStyles","List","ListItem","ListItemIcon","ListItemText","IconButton","ListItemSecondaryAction","CommentIcon","InboxIcon","DraftsIcon","Button","Heading","AccountCircleIcon","BusinessCenterIcon","AssessmentIcon","PowerSettingsNewIcon","TextField","TextareaAutosize","PasswordField","InputGroup","RadioGroup","SectionWrapper","ContentArea","ButtonGroup","DonationForm","DonateButton","addCredits","currencyOptions","cookie","useRouter","useData","useDispatchUser","useFormik","Yup","useQuery","useMutation","useLazyQuery","UPDATE_DONOR","GET_PROJECTS","GET_TAG_NAMES","DropzoneArea","axios","TagSelection","CircularProgress","ProjectCard","Chip","Autocomplete","_","useStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","classes","selectedTag","setSelectedTag","data","allTags","loading","tagLoading","error","tagError","refetch","tagRefetch","handleToggle","value","currentIndex","checked","indexOf","newChecked","push","splice","setChecked","getProjects","console","log","variables","where","sort","limit","start","handleFilter","tags_in","map","tag","id","length","marginTop","height","paddingBottom","padding","fontSize","tags","label","name","option","event","newValue","uniqBy","params","projects","project"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport Text from \"../common/src/components/Text\";\nimport Sticky from \"react-stickynode\";\nimport { ThemeProvider } from \"styled-components\";\nimport { charityTheme } from \"../common/src/theme/charity\";\nimport { ResetCSS } from \"../common/src/assets/css/style\";\nimport { DrawerProvider } from \"../common/src/contexts/DrawerContext\";\nimport Navbar from \"../containers/Charity/Navbar\";\nimport DrawerSection from \"../containers/Charity/DrawerSection\";\nimport Footer from \"../containers/Charity/Footer\";\nimport {\n  GlobalStyle,\n  CharityWrapper,\n  ContentWrapper,\n} from \"../containers/Charity/charity.style\";\nimport {\n  Box,\n  Container,\n  Typography,\n  Grid,\n  Paper,\n  Divider,\n  Checkbox,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\n\nimport CommentIcon from \"@material-ui/icons/Comment\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport DraftsIcon from \"@material-ui/icons/Drafts\";\nimport Button from \"../common/src/components/Button\";\nimport Heading from \"../common/src/components/Heading\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport BusinessCenterIcon from \"@material-ui/icons/BusinessCenter\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport PowerSettingsNewIcon from \"@material-ui/icons/PowerSettingsNew\";\nimport TextField from \"@material-ui/core/TextField\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport PasswordField from \"material-ui-password-field\";\n\nimport InputGroup from \"../common/src/components/InputGroup\";\nimport RadioGroup from \"../common/src/components/RadioGroup\";\nimport SectionWrapper, {\n  ContentArea,\n  ButtonGroup,\n  DonationForm,\n  DonateButton,\n} from \"../containers/Charity/donateSection/donateSection.style\";\nimport { addCredits, currencyOptions } from \"../common/src/data/Charity\";\n\nimport cookie from \"js-cookie\";\nimport { useRouter } from \"next/router\";\nimport { useData, useDispatchUser } from \"../lib/userData\";\n\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport { UPDATE_DONOR } from \"../lib/mutations\";\nimport { GET_PROJECTS, GET_TAG_NAMES } from \"../lib/queries\";\nimport { DropzoneArea } from \"material-ui-dropzone\";\nimport axios from \"axios\";\nimport TagSelection from \"../containers/Charity/Tags/tagSelection\";\n\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport ProjectCard from \"../containers/Charity/Project\";\n\nimport Chip from \"@material-ui/core/Chip\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport _ from \"lodash\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default () => {\n  const classes = useStyles();\n  const [selectedTag, setSelectedTag] = useState([]);\n\n  const {\n    data: allTags,\n    loading: tagLoading,\n    error: tagError,\n    refetch: tagRefetch,\n  } = useQuery(GET_TAG_NAMES);\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n  const [getProjects, { data, loading, error, refetch }] = useLazyQuery(\n    GET_PROJECTS\n  );\n\n  useEffect(() => {\n    console.log(data);\n    if (!data) {\n      getProjects({\n        variables: {\n          where: {},\n          sort: \"createdAt:desc\",\n          limit: 10,\n          start: 0,\n        },\n      });\n    }\n  }, [data]);\n  const handleFilter = () => {\n    console.log(\"Handle Filter:\", selectedTag, {\n      variables: {\n        where: { tags_in: selectedTag.map((tag) => tag.id) },\n        sort: \"createdAt:desc\",\n        limit: \"\",\n        start: 0,\n      },\n    });\n\n    if (selectedTag.length) {\n      getProjects({\n        variables: {\n          where: { tags_in: selectedTag.map((tag) => tag.id) },\n          sort: \"createdAt:desc\",\n          limit: \"\",\n          start: 0,\n        },\n      });\n    } else {\n      getProjects({\n        variables: {\n          where: {},\n          sort: \"createdAt:desc\",\n          limit: 10,\n          start: 0,\n        },\n      });\n    }\n  };\n  return (\n    <ThemeProvider theme={charityTheme}>\n      <Fragment>\n        {/* Start charity head section */}\n        <Head>\n          <title>Explore Projects | Esaar</title>\n          <meta name=\"Description\" content=\"React next landing page\" />\n          <meta name=\"theme-color\" content=\"#FCF22B\" />\n          <meta\n            name=\"viewport\"\n            content=\"width=device-width, initial-scale=1.0\"\n          />\n          {/* Load google fonts */}\n          <link\n            href=\"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800&display=swap\"\n            rel=\"stylesheet\"\n          />\n        </Head>\n        <ResetCSS />\n        <GlobalStyle />\n        <CharityWrapper>\n          <Sticky top={0} innerZ={9999} activeClass=\"sticky-nav-active\">\n            <Navbar />\n          </Sticky>\n          <DrawerProvider>\n            <DrawerSection />\n          </DrawerProvider>\n          <ContentWrapper>\n            <Container\n              maxWidth=\"lg\"\n              style={{\n                marginTop: \"140px\",\n                height: \"100%\",\n                paddingBottom: \"40px\",\n              }}\n            >\n              <Grid container alignItems=\"flex-start\" spacing={4}>\n                <Grid item md={3}>\n                  <Paper style={{ height: \"90vh\" }}>\n                    <Container style={{ padding: \"20px\" }}>\n                      <div className={classes.root}>\n                        <Text\n                          content=\"Explore projects by categories:\"\n                          style={{ fontSize: \"20px\" }}\n                        />\n\n                        <Autocomplete\n                          size=\"small\"\n                          multiple\n                          id=\"tags-outlined\"\n                          options={\n                            allTags\n                              ? allTags.tags.map((tag) => {\n                                  return {\n                                    id: tag.id,\n                                    value: tag.id,\n                                    label: tag.name,\n                                  };\n                                })\n                              : []\n                          }\n                          getOptionLabel={(option) => option.label}\n                          value={selectedTag}\n                          onChange={(event, newValue) => {\n                            setSelectedTag(_.uniqBy(newValue, \"id\"));\n                          }}\n                          //defaultValue={[top100Films[13]]}\n                          filterSelectedOptions\n                          renderInput={(params) => (\n                            <TextField\n                              {...params}\n                              variant=\"outlined\"\n                              label=\"Select Categories\"\n                              placeholder=\"Categories\"\n                            />\n                          )}\n                        />\n                        <Box display=\"flex\" py={2} justifyContent=\"center\">\n                          <Button\n                            title=\"Filter\"\n                            onClick={handleFilter}\n                            variant=\"extendedFab\"\n                            fullWidth\n                          />\n                        </Box>\n                      </div>\n                    </Container>\n                  </Paper>\n                </Grid>\n\n                {data ? (\n                  <Grid container item md={9} spacing={4}>\n                    {data.projects.map((project) => {\n                      return (\n                        <Grid item md={4} key={project.id}>\n                          <Paper>\n                            <ProjectCard project={project} />\n                          </Paper>\n                        </Grid>\n                      );\n                    })}\n                  </Grid>\n                ) : (\n                  <Grid\n                    container\n                    item\n                    md={8}\n                    justify=\"center\"\n                    alignItem=\"center\"\n                    spacing={4}\n                  >\n                    <Grid item md={2}>\n                      <CircularProgress color=\"secondary\" />\n                    </Grid>\n                  </Grid>\n                )}\n              </Grid>\n            </Container>\n          </ContentWrapper>\n          <Footer />\n        </CharityWrapper>\n        {/* End of charity wrapper section */}\n      </Fragment>\n    </ThemeProvider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}